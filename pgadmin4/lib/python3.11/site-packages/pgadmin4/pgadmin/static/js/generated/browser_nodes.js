"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[619],{84475:(e,t,a)=>{var o,n,r=a(64836);a(41539),a(88674);var i=a(37331),c=r(a(7231)),l=r(a(16969));o=[a(97282),a(66377),a(75888),a(61105),a(77257)],void 0===(n=function(e,t,a,o){return o.Nodes["coll-cast"]||(a.Browser.Nodes["coll-cast"]=a.Browser.Collection.extend({node:"cast",label:e("Casts"),type:"coll-cast",columns:["name","description"]})),o.Nodes.cast||(a.Browser.Nodes.cast=a.Browser.Node.extend({parent_type:"database",type:"cast",sqlAlterHelp:"sql-altercast.html",sqlCreateHelp:"sql-createcast.html",dialogHelp:t("help.static",{filename:"cast_dialog.html"}),canDrop:!0,canDropCascade:!0,label:e("Cast"),hasSQL:!0,hasDepends:!0,Init:function(){this.initialized||(this.initialized=!0,o.add_menus([{name:"create_cast_on_database",node:"database",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Cast..."),data:{action:"create"},enable:o.Nodes.database.is_conn_allow},{name:"create_cast_on_coll",node:"coll-cast",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Cast..."),data:{action:"create"}},{name:"create_cast",node:"cast",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Cast..."),data:{action:"create"}}]))},getSchema:function(e,t){var a=this;return new c.default({getTypeOptions:function(){return(0,i.getNodeAjaxOptions)("get_type",a,e,t)},getFuncOptions:function(a,n){return new Promise((function(r,i){var c=(0,l.default)(),s=o.Nodes.cast.generate_url.apply(o.Nodes.cast,[null,"get_functions",t,!1,e]),d={srctyp:a,trgtyp:n};null!=a&&""!=a&&null!=n&&""!=n?c.post(s,d).then((function(e){d=e.data.data,r(d)})).catch((function(e){i(e)})):r(d=[])}))}})}})),o.Nodes["coll-cast"]}.apply(t,o))||(e.exports=n)},97165:(e,t,a)=>{var o,n,r=a(64836);a(68309);var i=r(a(64223)),c=a(37331);o=[a(97282),a(66377),a(75888),a(61105),a(77257)],void 0===(n=function(e,t,a,o){return o.Nodes["coll-event_trigger"]||(a.Browser.Nodes["coll-event_trigger"]=a.Browser.Collection.extend({node:"event_trigger",label:e("Event Trigger"),type:"coll-event_trigger",columns:["name","eventowner","comment"],canDrop:!0,canDropCascade:!1})),o.Nodes.event_trigger||(a.Browser.Nodes.event_trigger=a.Browser.Node.extend({parent_type:"database",type:"event_trigger",sqlAlterHelp:"sql-altereventtrigger.html",sqlCreateHelp:"sql-createeventtrigger.html",dialogHelp:t("help.static",{filename:"event_trigger_dialog.html"}),label:e("Event Trigger"),hasSQL:!0,hasDepends:!0,canDrop:!0,Init:function(){this.initialized||(this.initialized=!0,o.add_menus([{name:"create_event_trigger_on_coll",node:"coll-event_trigger",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Event Trigger..."),data:{action:"create"}},{name:"create_event_trigger",node:"event_trigger",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Event Trigger..."),data:{action:"create"}},{name:"create_event_trigger",node:"database",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Event Trigger..."),data:{action:"create"},enable:o.Nodes.database.is_conn_allow}]))},getSchema:function(e,t){var a=this;return new i.default({role:function(){return(0,c.getNodeListByName)("role",e,t)},function_names:function(){return(0,c.getNodeAjaxOptions)("fopts",a,e,t,{cacheLevel:"trigger_function"})}},{eventowner:o.serverInfo[e.server._id].user.name})}})),o.Nodes["coll-event_trigger"]}.apply(t,o))||(e.exports=n)},51894:(e,t,a)=>{var o,n,r=a(64836);a(68309);var i=a(37331),c=r(a(39330)),l=r(a(96486));o=[a(97282),a(66377),a(75888),a(61105),a(77257)],void 0===(n=function(e,t,a,o){return o.Nodes["coll-extension"]||(a.Browser.Nodes["coll-extension"]=a.Browser.Collection.extend({node:"extension",label:e("Extensions"),type:"coll-extension",columns:["name","owner","comment"]})),o.Nodes.extension||(a.Browser.Nodes.extension=a.Browser.Node.extend({parent_type:"database",type:"extension",sqlAlterHelp:"sql-alterextension.html",sqlCreateHelp:"sql-createextension.html",dialogHelp:t("help.static",{filename:"extension_dialog.html"}),hasSQL:!0,hasDepends:!0,canDrop:!0,canDropCascade:!0,label:e("Extension"),Init:function(){this.initialized||(this.initialized=!0,o.add_menus([{name:"create_extension_on_coll",node:"coll-extension",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Extension..."),data:{action:"create"}},{name:"create_extension",node:"extension",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Extension..."),data:{action:"create"}},{name:"create_extension",node:"database",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Extension..."),data:{action:"create"},enable:o.Nodes.database.is_conn_allow}]))},getSchema:function(e,t){var o=a.Browser.Nodes.extension;return new c.default({role:function(){return(0,i.getNodeListByName)("role",e,t)},extensionsList:function(){return(0,i.getNodeAjaxOptions)("avails",o,e,t,{cacheLevel:"server"},(function(e){var t=[];return e&&l.default.isArray(e)&&l.default.each(e,(function(e){t.push({label:e.name,value:e.name,data:e})})),t}))},schemaList:function(){return(0,i.getNodeListByName)("schema",e,t)}})}})),o.Nodes["coll-extension"]}.apply(t,o))||(e.exports=n)},11917:(e,t,a)=>{var o,n,r=a(64836);a(68309);var i=a(37331),c=a(82691),l=r(a(40307));o=[a(97282),a(66377),a(75888),a(61105),a(77257)],void 0===(n=function(e,t,a,o){return o.Nodes["coll-foreign_server"]||(a.Browser.Nodes["coll-foreign_server"]=a.Browser.Collection.extend({node:"foreign_server",label:e("Foreign Servers"),type:"coll-foreign_server",columns:["name","fsrvowner","description"]})),o.Nodes.foreign_server||(a.Browser.Nodes.foreign_server=a.Browser.Node.extend({parent_type:"foreign_data_wrapper",type:"foreign_server",sqlAlterHelp:"sql-alterserver.html",sqlCreateHelp:"sql-createserver.html",dialogHelp:t("help.static",{filename:"foreign_server_dialog.html"}),label:e("Foreign Server"),hasSQL:!0,hasDepends:!0,canDrop:!0,canDropCascade:!0,Init:function(){this.initialized||(this.initialized=!0,o.add_menus([{name:"create_foreign_server_on_coll",node:"coll-foreign_server",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Foreign Server..."),data:{action:"create"}},{name:"create_foreign_server",node:"foreign_server",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Foreign Server..."),data:{action:"create"}},{name:"create_foreign_server",node:"foreign_data_wrapper",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Foreign Server..."),data:{action:"create"}}]))},getSchema:function(e,t){var a=this;return new l.default((function(o){return(0,c.getNodePrivilegeRoleSchema)(a,e,t,o)}),{role:function(){return(0,i.getNodeListByName)("role",e,t)}},{fsrvowner:o.serverInfo[e.server._id].user.name})}})),o.Nodes["coll-foreign_server"]}.apply(t,o))||(e.exports=n)},18778:(e,t,a)=>{var o,n,r=a(64836);a(68309);var i=a(37331),c=r(a(4611));o=[a(97282),a(66377),a(75888),a(61105),a(77257)],void 0===(n=function(e,t,a,o){return o.Nodes["coll-user_mapping"]||(a.Browser.Nodes["coll-user_mapping"]=a.Browser.Collection.extend({node:"user_mapping",label:e("User Mappings"),type:"coll-user_mapping",columns:["name"]})),o.Nodes.user_mapping||(a.Browser.Nodes.user_mapping=a.Browser.Node.extend({parent_type:"foreign_server",type:"user_mapping",sqlAlterHelp:"sql-alterusermapping.html",sqlCreateHelp:"sql-createusermapping.html",dialogHelp:t("help.static",{filename:"user_mapping_dialog.html"}),label:e("User Mapping"),hasSQL:!0,hasDepends:!0,canDrop:!0,canDropCascade:!0,Init:function(){this.initialized||(this.initialized=!0,o.add_menus([{name:"create_user_mapping_on_coll",node:"coll-user_mapping",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("User Mapping..."),data:{action:"create"}},{name:"create_user_mapping",node:"user_mapping",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("User Mapping..."),data:{action:"create"}},{name:"create_user_mapping",node:"foreign_server",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("User Mapping..."),data:{action:"create"}}]))},getSchema:function(e,t){return new c.default({role:function(){return(0,i.getNodeListByName)("role",e,t,{},(function(){return!0}),(function(e){return e.unshift({label:"CURRENT_USER",value:"CURRENT_USER",image:"icon-role"},{label:"PUBLIC",value:"PUBLIC",image:"icon-role"}),e}))}},{name:o.serverInfo[e.server._id].user.name})}})),o.Nodes["coll-user_mapping"]}.apply(t,o))||(e.exports=n)},12495:(e,t,a)=>{var o,n,r=a(64836);a(68309);var i=a(37331),c=a(82691),l=r(a(74766));o=[a(97282),a(66377),a(61105),a(77257)],void 0===(n=function(e,t,a){return a.Nodes["coll-foreign_data_wrapper"]||(a.Nodes["coll-foreign_data_wrapper"]=a.Collection.extend({node:"foreign_data_wrapper",label:e("Foreign Data Wrappers"),type:"coll-foreign_data_wrapper",columns:["name","fdwowner","description"]})),a.Nodes.foreign_data_wrapper||(a.Nodes.foreign_data_wrapper=a.Node.extend({parent_type:"database",type:"foreign_data_wrapper",sqlAlterHelp:"sql-alterforeigndatawrapper.html",sqlCreateHelp:"sql-createforeigndatawrapper.html",dialogHelp:t("help.static",{filename:"foreign_data_wrapper_dialog.html"}),label:e("Foreign Data Wrapper"),hasSQL:!0,hasDepends:!0,canDrop:!0,canDropCascade:!0,Init:function(){this.initialized||(this.initialized=!0,a.add_menus([{name:"create_foreign_data_wrapper_on_coll",node:"coll-foreign_data_wrapper",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Foreign Data Wrapper..."),data:{action:"create"}},{name:"create_foreign_data_wrapper",node:"foreign_data_wrapper",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Foreign Data Wrapper..."),data:{action:"create"}},{name:"create_foreign_data_wrapper",node:"database",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Foreign Data Wrapper..."),data:{action:"create"},enable:a.Nodes.database.is_conn_allow}]))},getSchema:function(e,t){var o=this;return new l.default((function(a){return(0,c.getNodePrivilegeRoleSchema)(o,e,t,a)}),{role:function(){return(0,i.getNodeListByName)("role",e,t)},fdwhan:function(){return(0,i.getNodeAjaxOptions)("get_handlers",o,e,t)},fdwvalue:function(){return(0,i.getNodeAjaxOptions)("get_validators",o,e,t)}},{fdwowner:a.serverInfo[e.server._id].user.name})}})),a.Nodes.foreign_data_wrapper}.apply(t,o))||(e.exports=n)},45771:(e,t,a)=>{var o,n,r=a(64836),i=a(37331),c=r(a(32015)),l=a(82691);o=[a(97282),a(66377),a(61105),a(77257)],void 0===(n=function(e,t,a){return a.Nodes["coll-language"]||(a.Nodes["coll-language"]=a.Collection.extend({node:"language",label:e("Languages"),type:"coll-language",columns:["name","lanowner","description"]})),a.Nodes.language||(a.Nodes.language=a.Node.extend({parent_type:"database",type:"language",sqlAlterHelp:"sql-alterlanguage.html",sqlCreateHelp:"sql-createlanguage.html",dialogHelp:t("help.static",{filename:"language_dialog.html"}),label:e("Language"),hasSQL:!0,canDrop:!0,canDropCascade:!0,hasDepends:!0,Init:function(){this.initialized||(this.initialized=!0,a.add_menus([{name:"create_language_on_database",node:"database",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Language..."),data:{action:"create"},enable:a.Nodes.database.is_conn_allow},{name:"create_language_on_coll",node:"coll-language",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Language..."),data:{action:"create"}},{name:"create_language",node:"language",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Language..."),data:{action:"create"}}]))},getSchema:function(e,t){var a=this;return new c.default((function(o){return(0,l.getNodePrivilegeRoleSchema)(a,e,t,o)}),{lan_functions:function(){return(0,i.getNodeAjaxOptions)("get_functions",a,e,t)},templates_data:function(){return(0,i.getNodeAjaxOptions)("get_templates",a,e,t)},role:function(){return(0,i.getNodeListByName)("role",e,t)}},{node_info:e.server})}})),a.Nodes["coll-language"]}.apply(t,o))||(e.exports=n)},29411:(e,t,a)=>{var o,n,r=a(64836),i=a(37331),c=r(a(8518));o=[a(97282),a(66377),a(61105),a(77257)],void 0===(n=function(e,t,a){return a.Nodes["coll-publication"]||(a.Nodes["coll-publication"]=a.Collection.extend({node:"publication",label:e("Publications"),type:"coll-publication",columns:["name","pubowner","pubtable","all_table"]})),a.Nodes.publication||(a.Nodes.publication=a.Node.extend({parent_type:"database",type:"publication",sqlAlterHelp:"sql-alterpublication.html",sqlCreateHelp:"sql-createpublication.html",dialogHelp:t("help.static",{filename:"publication_dialog.html"}),label:e("Publication"),hasSQL:!0,canDrop:!0,canDropCascade:!0,hasDepends:!0,width:a.stdW.md+"px",Init:function(){this.initialized||(this.initialized=!0,a.add_menus([{name:"create_publication_on_database",node:"database",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Publication..."),data:{action:"create"},enable:a.Nodes.database.canCreate},{name:"create_publication_on_coll",node:"coll-publication",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Publication..."),data:{action:"create"}},{name:"create_publication",node:"publication",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Publication..."),data:{action:"create"}}]))},getSchema:function(e,t){var a=this;return new c.default({allTables:function(){return(0,i.getNodeAjaxOptions)("get_tables",a,e,t)},allSchemas:function(){return(0,i.getNodeAjaxOptions)("get_schemas",a,e,t)},getColumns:function(o){return(0,i.getNodeAjaxOptions)("get_all_columns",a,e,t,{urlParams:o,useCache:!1})},role:function(){return(0,i.getNodeListByName)("role",e,t)}},{node_info:e.server})}})),a.Nodes["coll-publication"]}.apply(t,o))||(e.exports=n)},92160:(e,t,a)=>{var o,n,r=a(64836)(a(18512));o=[a(97282),a(75888),a(61105),a(82244),a(77257)],void 0===(n=function(e,t,a,o){return a.Nodes["coll-aggregate"]||(t.Browser.Nodes["coll-aggregate"]=t.Browser.Collection.extend({node:"aggregate",label:e("Aggregates"),type:"coll-aggregate",columns:["name","owner","description"],canDrop:!1,canDropCascade:!1})),a.Nodes.aggregate||(t.Browser.Nodes.aggregate=o.SchemaChildNode.extend({type:"aggregate",sqlAlterHelp:"sql-alteraggregate.html",sqlCreateHelp:"sql-createaggregate.html",label:e("Aggregate"),collection_type:"coll-aggregate",hasSQL:!0,hasDepends:!1,canDrop:!1,canDropCascade:!1,Init:function(){this.initialized||(this.initialized=!0)},getSchema:function(){return new r.default}})),a.Nodes.aggregate}.apply(t,o))||(e.exports=n)},59633:(e,t,a)=>{var o,n,r=a(64836)(a(45136));o=[a(97282),a(75888),a(61105),a(77257)],void 0===(n=function(e,t,a){return a.Nodes["coll-catalog_object_column"]||(t.Browser.Nodes["coll-catalog_object_column"]=t.Browser.Collection.extend({node:"catalog_object_column",label:e("catalog_object_column"),type:"coll-catalog_object_column",columns:["attname","attnum","cltype","description"],canDrop:!1,canDropCascade:!1})),a.Nodes.catalog_object_column||(t.Browser.Nodes.catalog_object_column=t.Browser.Node.extend({parent_type:"catalog_object",type:"catalog_object_column",label:e("catalog_object_column"),hasSQL:!1,hasScriptTypes:[],hasDepends:!0,Init:function(){this.initialized||(this.initialized=!0)},getSchema:function(){return new r.default}})),a.Nodes.catalog_object_column}.apply(t,o))||(e.exports=n)},29040:(e,t,a)=>{var o,n,r=a(64836)(a(35644));o=[a(97282),a(75888),a(61105),a(77257)],void 0===(n=function(e,t,a){return a.Nodes["coll-catalog_object"]||(t.Browser.Nodes["coll-catalog_object"]=t.Browser.Collection.extend({node:"catalog_object",label:e("Catalog Objects"),type:"coll-catalog_object",columns:["name","owner","description"],canDrop:!1,canDropCascade:!1})),a.Nodes.catalog_object||(t.Browser.Nodes.catalog_object=t.Browser.Node.extend({parent_type:"catalog",type:"catalog_object",label:e("Catalog Object"),hasSQL:!1,hasScriptTypes:[],hasDepends:!0,Init:function(){this.initialized||(this.initialized=!0)},getSchema:function(){return new r.default}})),a.Nodes.catalog_object}.apply(t,o))||(e.exports=n)},67586:(e,t,a)=>{var o,n,r=a(64836);a(68309);var i=r(a(75554)),c=a(37331);o=[a(97282),a(66377),a(75888),a(61105),a(82244),a(73464),a(77257)],void 0===(n=function(e,t,a,o,n,r){return o.Nodes["coll-collation"]||(a.Browser.Nodes["coll-collation"]=a.Browser.Collection.extend({node:"collation",label:e("Collations"),type:"coll-collation",columns:["name","owner","description"],canDrop:r.isTreeItemOfChildOfSchema,canDropCascade:r.isTreeItemOfChildOfSchema})),o.Nodes.collation||(a.Browser.Nodes.collation=n.SchemaChildNode.extend({type:"collation",sqlAlterHelp:"sql-altercollation.html",sqlCreateHelp:"sql-createcollation.html",dialogHelp:t("help.static",{filename:"collation_dialog.html"}),label:e("Collation"),collection_type:"coll-collation",hasSQL:!0,hasDepends:!0,Init:function(){this.initialized||(this.initialized=!0,o.add_menus([{name:"create_collation_on_coll",node:"coll-collation",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Collation..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"create_collation",node:"collation",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Collation..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"create_collation",node:"schema",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Collation..."),data:{action:"create",check:!1},enable:"canCreate"}]))},getSchema:function(e,t){var n=a.Browser.Nodes.collation;return new i.default({rolesList:function(){return(0,c.getNodeListByName)("role",e,t,{cacheLevel:"server"})},schemaList:function(){return(0,c.getNodeListByName)("schema",e,t,{cacheLevel:"database"})},collationsList:function(){return(0,c.getNodeAjaxOptions)("get_collations",n,e,t,{cacheLevel:"server"})}},{owner:o.serverInfo[e.server._id].user.name,schema:"schema"in e?e.schema.label:""})}})),o.Nodes.collation}.apply(t,o))||(e.exports=n)},80773:(e,t,a)=>{var o,n,r=a(64836)(a(99647));o=[a(97282),a(66377),a(75888),a(61105),a(73464),a(77257)],void 0===(n=function(e,t,a,o,n){return o.Nodes["coll-domain_constraints"]||(a.Browser.Nodes["coll-domain_constraints"]=a.Browser.Collection.extend({node:"domain_constraints",label:e("Domain Constraints"),type:"coll-domain_constraints",columns:["name","description"],canDrop:n.isTreeItemOfChildOfSchema,canDropCascade:!1})),o.Nodes.domain_constraints||(a.Browser.Nodes.domain_constraints=o.Node.extend({type:"domain_constraints",sqlAlterHelp:"sql-alterdomain.html",sqlCreateHelp:"sql-alterdomain.html",dialogHelp:t("help.static",{filename:"domain_constraint_dialog.html"}),label:e("Domain Constraints"),collection_type:"coll-domain_constraints",hasSQL:!0,hasDepends:!0,parent_type:["domain"],Init:function(){this.initialized||(this.initialized=!0,o.add_menus([{name:"create_domain_on_coll",node:"coll-domain_constraints",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:5,label:e("Domain Constraint..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"create_domain_constraints",node:"domain_constraints",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:5,label:e("Domain Constraint..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"create_domain_constraints",node:"domain",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:5,label:e("Domain Constraint..."),data:{action:"create",check:!1},enable:"canCreate"}]))},canDrop:n.isTreeItemOfChildOfSchema,getSchema:function(){return new r.default}})),o.Nodes.domain}.apply(t,o))||(e.exports=n)},45796:(e,t,a)=>{var o,n,r=a(64836);a(68309);var i=a(37331),c=r(a(83474));o=[a(97282),a(66377),a(61105),a(82244),a(73464),a(77257)],void 0===(n=function(e,t,a,o,n){return a.Nodes["coll-domain"]||(a.Nodes["coll-domain"]=a.Collection.extend({node:"domain",label:e("Domains"),type:"coll-domain",columns:["name","owner","description"],canDrop:n.isTreeItemOfChildOfSchema,canDropCascade:n.isTreeItemOfChildOfSchema})),a.Nodes.domain||(a.Nodes.domain=o.SchemaChildNode.extend({type:"domain",sqlAlterHelp:"sql-alterdomain.html",sqlCreateHelp:"sql-createdomain.html",dialogHelp:t("help.static",{filename:"domain_dialog.html"}),label:e("Domain"),collection_type:"coll-domain",hasSQL:!0,hasDepends:!0,Init:function(){this.initialized||(this.initialized=!0,a.add_menus([{name:"create_domain_on_coll",node:"coll-domain",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Domain..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"create_domain",node:"domain",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Domain..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"create_domain",node:"schema",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Domain..."),data:{action:"create",check:!1},enable:"canCreate"}]))},getSchema:function(e,t){var o=this;return new c.default({role:function(){return(0,i.getNodeListByName)("role",e,t)},schema:function(){return(0,i.getNodeListByName)("schema",e,t,{cacheLevel:"database",cacheNode:"database"})},basetype:function(){return(0,i.getNodeAjaxOptions)("get_types",o,e,t,{cacheNode:"type"})},collation:function(){return(0,i.getNodeAjaxOptions)("get_collations",o,e,t,{cacheLevel:"database",cacheNode:"schema"})}},{owner:a.serverInfo[e.server._id].user.name,schema:t.label,basensp:t.label})}})),a.Nodes.domain}.apply(t,o))||(e.exports=n)},10716:(e,t,a)=>{var o,n,r=a(89186);o=[a(97282),a(66377),a(61105),a(73464),a(77257)],void 0===(n=function(e,t,a){return a.Nodes["coll-foreign_table_column"]||(a.Nodes["coll-foreign_table_column"]=a.Collection.extend({node:"foreign_table_column",label:e("Columns"),type:"coll-foreign_table_column",columns:["name","cltype","description"]})),a.Nodes.foreign_table_column||(a.Nodes.foreign_table_column=a.Node.extend({parent_type:["foreign_table"],collection_type:["coll-foreign_table"],type:"foreign_table_column",label:e("Column"),hasSQL:!0,sqlAlterHelp:"sql-altertable.html",sqlCreateHelp:"sql-altertable.html",dialogHelp:t("help.static",{filename:"column_dialog.html"}),canDrop:!0,canDropCascade:!1,hasDepends:!0,hasStatistics:!0,Init:function(){this.initialized||(this.initialized=!0,a.add_menus([{name:"create_column_on_coll",node:"coll-foreign_table_column",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Column..."),data:{action:"create"},enable:"canCreate"},{name:"create_column_onTable",node:"foreign_table",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Column..."),data:{action:"create"},enable:"canCreate"}]))},getSchema:function(e,t){return(0,r.getNodeColumnSchema)(e,t,a)}})),a.Nodes.foreign_table_column}.apply(t,o))||(e.exports=n)},88762:(e,t,a)=>{var o,n,r=a(64836);a(24812),a(68309);var i=a(37331),c=a(57275),l=a(82691),s=r(a(89186)),d=r(a(96486)),p=r(a(74907));o=[a(27155),a(97282),a(66377),a(61105),a(82244),a(73464),a(77257),a(485),a(59307)],void 0===(n=function(e,t,a,o,n,r){return o.Nodes["coll-foreign_table"]||(o.Nodes["coll-foreign_table"]=o.Collection.extend({node:"foreign_table",label:t("Foreign Tables"),type:"coll-foreign_table",columns:["name","owner","description"],canDrop:r.isTreeItemOfChildOfSchema,canDropCascade:r.isTreeItemOfChildOfSchema})),o.Nodes.foreign_table||(o.Nodes.foreign_table=n.SchemaChildNode.extend({type:"foreign_table",sqlAlterHelp:"sql-alterforeigntable.html",sqlCreateHelp:"sql-createforeigntable.html",dialogHelp:a("help.static",{filename:"foreign_table_dialog.html"}),label:t("Foreign Table"),collection_type:"coll-foreign_table",hasSQL:!0,hasDepends:!0,width:o.stdW.md+"px",hasScriptTypes:["create","select","insert","update","delete"],parent_type:["schema"],Init:function(){this.initialized||(this.initialized=!0,o.add_menus([{name:"create_foreign_table_on_coll",node:"coll-foreign_table",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:t("Foreign Table..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"create_foreign_table",node:"foreign_table",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:t("Foreign Table..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"create_foreign_table",node:"schema",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:t("Foreign Table..."),data:{action:"create",check:!1},enable:"canCreate"},{name:"enable_all_triggers",node:"foreign_table",module:this,applies:["object","context"],callback:"enable_triggers_on_table",category:t("Trigger(s)"),priority:4,label:t("Enable All"),enable:"canCreate_with_trigger_enable",data:{data_disabled:t("The selected tree node does not support this option."),action:"create"}},{name:"disable_all_triggers",node:"foreign_table",module:this,applies:["object","context"],callback:"disable_triggers_on_table",category:t("Trigger(s)"),priority:4,label:t("Disable All"),enable:"canCreate_with_trigger_disable",data:{data_disabled:t("The selected tree node does not support this option."),action:"create"}}]))},callbacks:{enable_triggers_on_table:function(t){e.enableTriggers(o.tree,p.default,this.generate_url.bind(this),t)},disable_triggers_on_table:function(t){e.disableTriggers(o.tree,p.default,this.generate_url.bind(this),t)}},canCreate_with_trigger_enable:function(e){return e.tigger_count>0&&(0==e.has_enable_triggers||e.has_enable_triggers<e.tigger_count)},canCreate_with_trigger_disable:function(e){return e.tigger_count>0&&e.has_enable_triggers>0},getSchema:function(e,t){var a=this;return new s.default((function(a){return(0,l.getNodePrivilegeRoleSchema)("",e,t,a)}),(function(){return(0,c.getNodeVariableSchema)(a,e,t,!1,!1)}),(function(a){return(0,i.getNodeAjaxOptions)("get_columns",o.Nodes.foreign_table,e,t,{urlParams:a,useCache:!1})}),{role:function(){return(0,i.getNodeListByName)("role",e,t)},schema:function(){return(0,i.getNodeListByName)("schema",e,t,{cacheLevel:"database"})},foreignServers:function(){return(0,i.getNodeAjaxOptions)("get_foreign_servers",a,e,t,{cacheLevel:"database"},(function(e){return d.default.reject(e,(function(e){return""==e.label||null==e.label}))}))},tables:function(){return(0,i.getNodeAjaxOptions)("get_tables",a,e,t,{cacheLevel:"database"})},nodeInfo:e,nodeData:t,pgBrowser:o},{owner:o.serverInfo[e.server._id].user.name,basensp:e.schema?e.schema.label:""})}})),o.Nodes.foreign_table}.apply(t,o))||(e.exports=n)},55327:(e,t,a)=>{var o,n,r=a(64836);a(68309);var i=a(37331),c=r(a(92900));o=[a(97282),a(66377),a(75888),a(61105),a(82244),a(73464),a(77257)],void 0===(n=function(e,t,a,o,n,r){return o.Nodes["coll-fts_configuration"]||(a.Browser.Nodes["coll-fts_configuration"]=a.Browser.Collection.extend({node:"fts_configuration",label:e("FTS Configurations"),type:"coll-fts_configuration",columns:["name","description"],canDrop:r.isTreeItemOfChildOfSchema,canDropCascade:r.isTreeItemOfChildOfSchema})),o.Nodes.fts_configuration||(a.Browser.Nodes.fts_configuration=n.SchemaChildNode.extend({type:"fts_configuration",sqlAlterHelp:"sql-altertsconfig.html",sqlCreateHelp:"sql-createtsconfig.html",dialogHelp:t("help.static",{filename:"fts_configuration_dialog.html"}),label:e("FTS Configuration"),hasSQL:!0,hasDepends:!0,Init:function(){this.initialized||(this.initialized=!0,o.add_menus([{name:"create_fts_configuration_on_schema",node:"schema",module:this,category:"create",priority:4,applies:["object","context"],callback:"show_obj_properties",label:e("FTS Configuration..."),data:{action:"create"},enable:"canCreate"},{name:"create_fts_configuration_on_coll",module:this,priority:4,node:"coll-fts_configuration",applies:["object","context"],callback:"show_obj_properties",category:"create",label:e("FTS Configuration..."),data:{action:"create"},enable:"canCreate"},{name:"create_fts_configuration",node:"fts_configuration",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("FTS Configuration..."),data:{action:"create"},enable:"canCreate"}]))},getSchema:function(e,t){var a=this;return new c.default({role:function(){return(0,i.getNodeListByName)("role",e,t)},schema:function(){return(0,i.getNodeListById)(o.Nodes.schema,e,t)},parsers:function(){return(0,i.getNodeAjaxOptions)("parsers",a,e,t)},copyConfig:function(){return(0,i.getNodeAjaxOptions)("copyConfig",a,e,t)},tokens:function(){return(0,i.getNodeAjaxOptions)("tokens",a,e,t,{urlWithId:!0})},dictionaries:function(){return(0,i.getNodeAjaxOptions)("dictionaries",a,e,t,{cacheLevel:"fts_configuration",cacheNode:"fts_configuration"})}},{owner:o.serverInfo[e.server._id].user.name,schema:t._id})}})),o.Nodes["coll-fts_configuration"]}.apply(t,o))||(e.exports=n)},71417:(e,t,a)=>{var o,n,r=a(64836);a(68309);var i=a(37331),c=r(a(27001));o=[a(97282),a(66377),a(75888),a(61105),a(82244),a(73464),a(77257)],void 0===(n=function(e,t,a,o,n,r){return o.Nodes["coll-fts_dictionary"]||(a.Browser.Nodes["coll-fts_dictionary"]=a.Browser.Collection.extend({node:"fts_dictionary",label:e("FTS Dictionaries"),type:"coll-fts_dictionary",columns:["name","description"],canDrop:r.isTreeItemOfChildOfSchema,canDropCascade:r.isTreeItemOfChildOfSchema})),o.Nodes.fts_dictionary||(a.Browser.Nodes.fts_dictionary=n.SchemaChildNode.extend({type:"fts_dictionary",sqlAlterHelp:"sql-altertsdictionary.html",sqlCreateHelp:"sql-createtsdictionary.html",dialogHelp:t("help.static",{filename:"fts_dictionary_dialog.html"}),label:e("FTS Dictionary"),hasSQL:!0,hasDepends:!0,Init:function(){this.initialized||(this.initialized=!0,o.add_menus([{name:"create_fts_dictionary_on_schema",node:"schema",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("FTS Dictionary..."),data:{action:"create"},enable:"canCreate"},{name:"create_fts_dictionary_on_coll",node:"coll-fts_dictionary",module:this,applies:["object","context"],priority:4,callback:"show_obj_properties",category:"create",label:e("FTS Dictionary..."),data:{action:"create"},enable:"canCreate"},{name:"create_fts_dictionary",node:"fts_dictionary",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("FTS Dictionary..."),data:{action:"create"},enable:"canCreate"}]))},getSchema:function(e,t){var a=this;return new c.default({role:function(){return(0,i.getNodeListByName)("role",e,t)},schema:function(){return(0,i.getNodeListById)(o.Nodes.schema,e,t)},fts_template:function(){return(0,i.getNodeAjaxOptions)("fetch_templates",a,e,t,{cacheNode:"fts_template"})}},{owner:o.serverInfo[e.server._id].user.name,schema:t._id})}})),o.Nodes.fts_dictionary}.apply(t,o))||(e.exports=n)},59362:(e,t,a)=>{var o,n,r=a(64836)(a(51634)),i=a(37331);o=[a(97282),a(66377),a(75888),a(61105),a(82244),a(73464),a(77257)],void 0===(n=function(e,t,a,o,n,c){return o.Nodes["coll-fts_parser"]||(a.Browser.Nodes["coll-fts_parser"]=a.Browser.Collection.extend({node:"fts_parser",label:e("FTS Parsers"),type:"coll-fts_parser",columns:["name","description"],canDrop:c.isTreeItemOfChildOfSchema,canDropCascade:c.isTreeItemOfChildOfSchema})),o.Nodes.fts_parser||(a.Browser.Nodes.fts_parser=n.SchemaChildNode.extend({type:"fts_parser",sqlAlterHelp:"sql-altertsparser.html",sqlCreateHelp:"sql-createtsparser.html",dialogHelp:t("help.static",{filename:"fts_parser_dialog.html"}),label:e("FTS Parser"),hasSQL:!0,hasDepends:!0,Init:function(){this.initialized||(this.initialized=!0,o.add_menus([{name:"create_fts_parser_on_schema",node:"schema",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("FTS Parser..."),data:{action:"create"},enable:"canCreate"},{name:"create_fts_parser_on_coll",node:"coll-fts_parser",applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("FTS Parser..."),data:{action:"create"},module:this,enable:"canCreate"},{name:"create_fts_parser",node:"fts_parser",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("FTS Parser..."),data:{action:"create"},enable:"canCreate"}]))},getSchema:function(e,t){var n=a.Browser.Nodes.fts_parser;return new r.default({prsstartList:function(){return(0,i.getNodeAjaxOptions)("start_functions",n,e,t,{cacheLevel:"database"})},prstokenList:function(){return(0,i.getNodeAjaxOptions)("token_functions",n,e,t,{cacheLevel:"database"})},prsendList:function(){return(0,i.getNodeAjaxOptions)("end_functions",n,e,t,{cacheLevel:"database"})},prslextypeList:function(){return(0,i.getNodeAjaxOptions)("lextype_functions",n,e,t,{cacheLevel:"database"})},prsheadlineList:function(){return(0,i.getNodeAjaxOptions)("headline_functions",n,e,t,{cacheLevel:"database"})},schemaList:function(){return(0,i.getNodeListById)(o.Nodes.schema,e,t,{cacheLevel:"database"})}},{schema:t._id})}})),o.Nodes["coll-fts_parser"]}.apply(t,o))||(e.exports=n)},12174:(e,t,a)=>{var o,n,r=a(64836)(a(71030)),i=a(37331);o=[a(97282),a(66377),a(75888),a(61105),a(82244),a(73464),a(77257)],void 0===(n=function(e,t,a,o,n,c){return o.Nodes["coll-fts_template"]||(a.Browser.Nodes["coll-fts_template"]=a.Browser.Collection.extend({node:"fts_template",label:e("FTS Templates"),type:"coll-fts_template",columns:["name","description"],canDrop:c.isTreeItemOfChildOfSchema,canDropCascade:c.isTreeItemOfChildOfSchema})),o.Nodes.fts_template||(a.Browser.Nodes.fts_template=n.SchemaChildNode.extend({type:"fts_template",sqlAlterHelp:"sql-altertstemplate.html",sqlCreateHelp:"sql-createtstemplate.html",dialogHelp:t("help.static",{filename:"fts_template_dialog.html"}),label:e("FTS Template"),hasSQL:!0,hasDepends:!0,Init:function(){this.initialized||(this.initialized=!0,o.add_menus([{name:"create_fts_template_on_schema",node:"schema",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("FTS Template..."),data:{action:"create"},enable:"canCreate"},{name:"create_fts_template_on_coll",node:"coll-fts_template",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("FTS Template..."),data:{action:"create"},enable:"canCreate"},{name:"create_fts_template",node:"fts_template",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("FTS Template..."),data:{action:"create"},enable:"canCreate"}]))},getSchema:function(e,t){var n=a.Browser.Nodes.fts_template;return new r.default({initFunctionList:function(){return(0,i.getNodeAjaxOptions)("get_init",n,e,t,{cacheLevel:"database"})},lexisFunctionList:function(){return(0,i.getNodeAjaxOptions)("get_lexize",n,e,t,{cacheLevel:"database"})},schemaList:function(){return(0,i.getNodeListById)(o.Nodes.schema,e,t)}},{schema:t._id})}})),o.Nodes.fts_template}.apply(t,o))||(e.exports=n)},76087:(e,t,a)=>{var o,n,r=a(64836);a(68309);var i=a(37331),c=r(a(69167)),l=a(82691),s=a(57275);o=[a(97282),a(66377),a(61105),a(82244),a(73464),a(77257)],void 0===(n=function(e,t,a,o,n){return a.Nodes["coll-function"]||(a.Nodes["coll-function"]=a.Collection.extend({node:"function",label:e("Functions"),type:"coll-function",columns:["name","funcowner","description"],hasStatistics:!0,canDrop:n.isTreeItemOfChildOfSchema,canDropCascade:n.isTreeItemOfChildOfSchema})),a.Nodes.function||(a.Nodes.function=o.SchemaChildNode.extend({type:"function",sqlAlterHelp:"sql-alterfunction.html",sqlCreateHelp:"sql-createfunction.html",dialogHelp:t("help.static",{filename:"function_dialog.html"}),label:e("Function"),collection_type:"coll-function",hasSQL:!0,hasDepends:!0,width:a.stdW.md+"px",hasStatistics:!0,hasScriptTypes:["create","select"],Init:function(){this.initialized||(this.initialized=!0,a.add_menus([{name:"create_function_on_coll",node:"coll-function",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Function..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"create_function",node:"function",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Function..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"create_function",node:"schema",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Function..."),data:{action:"create",check:!1},enable:"canCreate"}]))},getSchema:function(e,t){var o=this;return new c.default((function(a){return(0,l.getNodePrivilegeRoleSchema)(o,e,t,a)}),(function(){return(0,s.getNodeVariableSchema)(o,e,t,!1,!1)}),{role:function(){return(0,i.getNodeListByName)("role",e,t)},schema:function(){return(0,i.getNodeListById)(a.Nodes.schema,e,t,{cacheLevel:"database"})},getTypes:function(){return(0,i.getNodeAjaxOptions)("get_types",o,e,t)},getLanguage:function(){return(0,i.getNodeAjaxOptions)("get_languages",o,e,t)},getSupportFunctions:function(){return(0,i.getNodeAjaxOptions)("get_support_functions",o,e,t,{cacheNode:"function"})}},{node_info:e},{type:a.Nodes.function.type},{funcowner:a.serverInfo[e.server._id].user.name,pronamespace:e.schema?e.schema._id:null,lanname:"sql"})}})),a.Nodes.function}.apply(t,o))||(e.exports=n)},24206:(e,t,a)=>{var o,n,r=a(64836);a(68309);var i=a(37331),c=r(a(69167)),l=a(82691),s=a(57275);o=[a(97282),a(66377),a(75888),a(61105),a(82244),a(73464),a(77257)],void 0===(n=function(e,t,a,o,n,r){return o.Nodes["coll-procedure"]||(a.Browser.Nodes["coll-procedure"]=a.Browser.Collection.extend({node:"procedure",label:e("Procedures"),type:"coll-procedure",columns:["name","funcowner","description"],hasStatistics:!0,canDrop:r.isTreeItemOfChildOfSchema,canDropCascade:r.isTreeItemOfChildOfSchema})),o.Nodes.procedure||(a.Browser.Nodes.procedure=n.SchemaChildNode.extend({type:"procedure",sqlAlterHelp:"sql-alterprocedure.html",sqlCreateHelp:"sql-createprocedure.html",dialogHelp:t("help.static",{filename:"procedure_dialog.html"}),label:e("Procedure"),collection_type:"coll-procedure",hasSQL:!0,hasDepends:!0,hasStatistics:!0,hasScriptTypes:["create","exec"],width:o.stdW.md+"px",Init:function(){this.proc_initialized||(this.proc_initialized=!0,o.add_menus([{name:"create_procedure_on_coll",node:"coll-procedure",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Procedure..."),data:{action:"create",check:!1},enable:"canCreateProc"},{name:"create_procedure",node:"procedure",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Procedure..."),data:{action:"create",check:!0},enable:"canCreateProc"},{name:"create_procedure",node:"schema",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Procedure..."),data:{action:"create",check:!0},enable:"canCreateProc"}]))},canCreateProc:function(e,t){var a=o.tree.getTreeNodeHierarchy(t);return!("catalog"in a)&&("server"in a&&("ppas"==a.server.server_type||"pg"==a.server.server_type&&a.server.version>=11e4))},getSchema:function(e,t){var a=this;return new c.default((function(o){return(0,l.getNodePrivilegeRoleSchema)(a,e,t,o)}),(function(){return(0,s.getNodeVariableSchema)(a,e,t,!1,!1)}),{role:function(){return(0,i.getNodeListByName)("role",e,t)},schema:function(){return(0,i.getNodeListById)(o.Nodes.schema,e,t,{cacheLevel:"database"})},getTypes:function(){return(0,i.getNodeAjaxOptions)("get_types",a,e,t)},getLanguage:function(){return(0,i.getNodeAjaxOptions)("get_languages",a,e,t)},getSupportFunctions:function(){return(0,i.getNodeAjaxOptions)("get_support_functions",a,e,t,{cacheNode:"function"})}},{node_info:e},{type:o.Nodes.procedure.type},{funcowner:o.serverInfo[e.server._id].user.name,pronamespace:e.schema?e.schema._id:null,lanname:"ppas"!=e.server.server_type?"sql":"edbspl"})}})),o.Nodes.procedure}.apply(t,o))||(e.exports=n)},42491:(e,t,a)=>{var o,n,r=a(64836);a(68309);var i=r(a(74018)),c=a(37331),l=a(57275),s=a(82691),d=r(a(96486));o=[a(97282),a(66377),a(61105),a(82244),a(73464),a(77257)],void 0===(n=function(e,t,a,o,n){return a.Nodes["coll-trigger_function"]||(a.Nodes["coll-trigger_function"]=a.Collection.extend({node:"trigger_function",label:e("Trigger functions"),type:"coll-trigger_function",columns:["name","funcowner","description"],hasStatistics:!0,canDrop:n.isTreeItemOfChildOfSchema,canDropCascade:n.isTreeItemOfChildOfSchema})),a.Nodes.trigger_function||(a.Nodes.trigger_function=o.SchemaChildNode.extend({type:"trigger_function",sqlAlterHelp:"plpgsql-trigger.html",sqlCreateHelp:"plpgsql-trigger.html",dialogHelp:t("help.static",{filename:"trigger_function_dialog.html"}),label:e("Trigger function"),collection_type:"coll-trigger_function",canEdit:function(e,t){var o=a.tree.findNodeByDomElement(t);return!(!o||"trigger"===o.parentNode.getData()._type)},hasSQL:!0,showMenu:function(e,t){return this.canEdit(e,t)},hasDepends:!0,hasStatistics:!0,url_jump_after_node:"schema",Init:function(){this.initialized||(this.initialized=!0,a.add_menus([{name:"create_trigger_function_on_coll",node:"coll-trigger_function",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Trigger function..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"create_trigger_function",node:"trigger_function",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Trigger function..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"create_trigger_function",node:"schema",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Trigger function..."),data:{action:"create",check:!1},enable:"canCreate"}]))},getSchema:function(e,t){var o=this;return new i.default((function(a){return(0,s.getNodePrivilegeRoleSchema)("",e,t,a)}),(function(){return(0,l.getNodeVariableSchema)(o,e,t,!1,!1)}),{role:function(){return(0,c.getNodeListByName)("role",e,t)},schema:function(){return(0,c.getNodeListById)(a.Nodes.schema,e,t,{cacheLevel:"database"})},language:function(){return(0,c.getNodeAjaxOptions)("get_languages",o,e,t,{noCache:!0},(function(e){return d.default.reject(e,(function(e){return"sql"==e.label}))}))},nodeInfo:e},{funcowner:a.serverInfo[e.server._id].user.name,pronamespace:e.schema?e.schema._id:null})}})),a.Nodes.trigger_function}.apply(t,o))||(e.exports=n)},84597:(e,t,a)=>{var o,n,r=a(64836)(a(98866));o=[a(97282),a(75888),a(61105),a(82244),a(77257)],void 0===(n=function(e,t,a,o){return a.Nodes["coll-operator"]||(t.Browser.Nodes["coll-operator"]=t.Browser.Collection.extend({node:"operator",label:e("Operators"),type:"coll-operator",columns:["name","owner","description"],canDrop:!1,canDropCascade:!1,canSelect:!1})),a.Nodes.operator||(t.Browser.Nodes.operator=o.SchemaChildNode.extend({type:"operator",sqlAlterHelp:"sql-alteroperator.html",sqlCreateHelp:"sql-createoperator.html",label:e("Operator"),collection_type:"coll-operator",hasSQL:!0,hasDepends:!1,canDrop:!1,canDropCascade:!1,Init:function(){this.initialized||(this.initialized=!0)},getSchema:function(){return new r.default}})),a.Nodes.operator}.apply(t,o))||(e.exports=n)},51642:(e,t,a)=>{var o,n,r=a(64836)(a(68858));o=[a(97282),a(66377),a(61105),a(77257)],void 0===(n=function(e,t,a){return a.Nodes["coll-edbfunc"]||(a.Nodes["coll-edbfunc"]=a.Collection.extend({node:"edbfunc",label:e("Functions"),type:"coll-edbfunc",columns:["name","funcowner","description"],canDrop:!1,canDropCascade:!1})),a.Nodes.edbfunc||(a.Nodes.edbfunc=a.Node.extend({type:"edbfunc",dialogHelp:t("help.static",{filename:"edbfunc_dialog.html"}),label:e("Function"),collection_type:"coll-edbfunc",hasDepends:!0,canEdit:!1,hasSQL:!0,hasScriptTypes:[],parent_type:["package"],Init:function(){this.initialized||(this.initialized=!0)},canDrop:!1,canDropCascade:!1,getSchema:function(){return new r.default({},{name:"sysfunc"})}})),a.Nodes.edbfunc}.apply(t,o))||(e.exports=n)},92584:(e,t,a)=>{var o,n,r=a(64836)(a(68858));o=[a(97282),a(66377),a(75888),a(61105),a(77257)],void 0===(n=function(e,t,a,o){return o.Nodes["coll-edbproc"]||(a.Browser.Nodes["coll-edbproc"]=a.Browser.Collection.extend({node:"edbproc",label:e("Procedures"),type:"coll-edbproc",columns:["name","funcowner","description"],hasStatistics:!0,canDrop:!1,canDropCascade:!1})),o.Nodes.edbproc||(a.Browser.Nodes.edbproc=o.Node.extend({type:"edbproc",dialogHelp:t("help.static",{filename:"edbproc_dialog.html"}),label:e("Procedure"),collection_type:"coll-edbproc",hasDepends:!0,canEdit:!1,hasSQL:!0,hasScriptTypes:[],parent_type:["package"],Init:function(){this.proc_initialized||(this.proc_initialized=!0)},canDrop:!1,canDropCascade:!1,getSchema:function(){return new r.default({},{name:"sysproc"})}})),o.Nodes.edbproc}.apply(t,o))||(e.exports=n)},40431:(e,t,a)=>{var o,n,r=a(64836)(a(78761));o=[a(97282),a(66377),a(61105),a(77257)],void 0===(n=function(e,t,a){return a.Nodes["coll-edbvar"]||(a.Nodes["coll-edbvar"]=a.Collection.extend({node:"edbvar",label:e("Variables"),type:"coll-edbvar",columns:["name","funcowner","description"],canDrop:!1,canDropCascade:!1})),a.Nodes.edbvar||(a.Nodes.edbvar=a.Node.extend({type:"edbvar",dialogHelp:t("help.static",{filename:"edbvar_dialog.html"}),label:e("Function"),collection_type:"coll-edbvar",canEdit:!1,hasSQL:!0,hasScriptTypes:[],parent_type:["package"],Init:function(){this.initialized||(this.initialized=!0)},canDrop:!1,canDropCascade:!1,getSchema:function(){return new r.default}})),a.Nodes.edbvar}.apply(t,o))||(e.exports=n)},10375:(e,t,a)=>{var o,n,r=a(64836)(a(12677)),i=a(82691),c=a(37331);o=[a(97282),a(66377),a(61105),a(82244),a(73464),a(77257)],void 0===(n=function(e,t,a,o,n){return a.Nodes["coll-package"]||(a.Nodes["coll-package"]=a.Collection.extend({node:"package",label:e("Packages"),type:"coll-package",columns:["name","owner","description"],canDrop:n.isTreeItemOfChildOfSchema,canDropCascade:n.isTreeItemOfChildOfSchema})),a.Nodes.package||(a.Nodes.package=o.SchemaChildNode.extend({type:"package",epasHelp:!0,dialogHelp:t("help.static",{filename:"package_dialog.html"}),label:e("Package"),collection_type:"coll-package",hasSQL:!0,hasDepends:!0,Init:function(){this.initialized||(this.initialized=!0,a.add_menus([{name:"create_package_on_coll",node:"coll-package",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Package..."),data:{action:"create",check:!0,data_disabled:e("This option is only available on EPAS servers.")},enable:"canCreate"},{name:"create_package",node:"package",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Package..."),data:{action:"create",check:!0,data_disabled:e("This option is only available on EPAS servers.")},enable:"canCreate"},{name:"create_package",node:"schema",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Package..."),data:{action:"create",check:!0,data_disabled:e("This option is only available on EPAS servers.")},enable:"canCreate"}]))},canCreate:function(e,t,o){if(o&&!o.check)return!0;var n=a.tree.getTreeNodeHierarchy(t),r=n.server;return(!r||"pg"!==r.server_type)&&null==n.catalog},getSchema:function(e,t){var o=a.Nodes.package;return new r.default((function(a){return(0,i.getNodePrivilegeRoleSchema)(o,e,t,a)}),{schemas:function(){return(0,c.getNodeListByName)("schema",e,t,{cacheLevel:"database"})},node_info:e},{schema:"schema"in e?e.schema.label:""})}})),a.Nodes.package}.apply(t,o))||(e.exports=n)},73584:(e,t,a)=>{var o,n,r=a(64836);a(74916),a(4723),a(21249),a(68309);var i=a(37331),c=a(82691),l=r(a(16039));o=[a(97282),a(66377),a(61105),a(82244),a(73464),a(77257)],void 0===(n=function(e,t,a,o,n){return a.Nodes["coll-sequence"]||(a.Nodes["coll-sequence"]=a.Collection.extend({node:"sequence",label:e("Sequences"),type:"coll-sequence",columns:["name","seqowner","comment"],hasStatistics:!0,canDrop:n.isTreeItemOfChildOfSchema,canDropCascade:n.isTreeItemOfChildOfSchema})),a.Nodes.sequence||(a.Nodes.sequence=o.SchemaChildNode.extend({type:"sequence",sqlAlterHelp:"sql-altersequence.html",sqlCreateHelp:"sql-createsequence.html",dialogHelp:t("help.static",{filename:"sequence_dialog.html"}),label:e("Sequence"),collection_type:"coll-sequence",hasSQL:!0,hasDepends:!0,hasStatistics:!0,Init:function(){this.initialized||(this.initialized=!0,a.add_menus([{name:"create_sequence_on_coll",node:"coll-sequence",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Sequence..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"create_sequence",node:"sequence",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Sequence..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"create_sequence",node:"schema",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Sequence..."),data:{action:"create",check:!1},enable:"canCreate"}]))},getSchema:function(e,t){var o=this;return new l.default((function(a){return(0,c.getNodePrivilegeRoleSchema)(o,e,t,a)}),{role:function(){return(0,i.getNodeListByName)("role",e,t)},schema:function(){return(0,i.getNodeListByName)("schema",e,t,{},(function(e){return!e.label.match(/^pg_/)}))},allTables:function(){return(0,i.getNodeListByName)("table",e,t,{includeItemKeys:["_id"]})},getColumns:function(o){return(0,i.getNodeAjaxOptions)("get_columns",a.Nodes.table,e,t,{urlParams:o,useCache:!1},(function(e){return e.map((function(e){return{value:e.name,image:"icon-column",label:e.name}}))}))}},{seqowner:a.serverInfo[e.server._id].user.name,schema:t.label})}})),a.Nodes.sequence}.apply(t,o))||(e.exports=n)},35:(e,t,a)=>{var o,n,r=a(64836);a(68309);var i=r(a(81259));o=[a(97282),a(61105),a(77257)],void 0===(n=function(e,t){return t.Nodes["coll-catalog"]||(t.Nodes["coll-catalog"]=t.Collection.extend({node:"catalog",label:e("Catalogs"),type:"coll-catalog",columns:["name","namespaceowner","description"],canDrop:!1,canDropCascade:!1})),t.Nodes.catalog||(t.Nodes.catalog=t.Node.extend({parent_type:"database",type:"catalog",label:e("Catalog"),hasSQL:!0,hasDepends:!0,Init:function(){this.initialized||(this.initialized=!0)},getSchema:function(e){return new i.default({namespaceowner:t.serverInfo[e.server._id].user.name})}})),t.Nodes.catalog}.apply(t,o))||(e.exports=n)},82244:(e,t,a)=>{a(66992),a(41539),a(78783),a(4129),a(33948),a(69070),a(38880);var o=a(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.SchemaChildNode=void 0;var n=c(a(41477)),r=c(a(73464));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(i=function(e){return e?a:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=o(e)&&"function"!=typeof e)return{default:e};var a=i(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if("default"!==c&&Object.prototype.hasOwnProperty.call(e,c)){var l=r?Object.getOwnPropertyDescriptor(e,c):null;l&&(l.get||l.set)?Object.defineProperty(n,c,l):n[c]=e[c]}return n.default=e,a&&a.set(e,n),n}t.SchemaChildNode=n.extend({parent_type:["schema","catalog"],canDrop:r.isTreeItemOfChildOfSchema,canDropCascade:r.isTreeItemOfChildOfSchema,canCreate:r.childCreateMenuEnabled},!1)},43765:(e,t,a)=>{var o,n,r=a(64836);a(68309);var i=r(a(42673)),c=a(82691),l=a(37331);o=[a(97282),a(66377),a(61105),a(77257)],void 0===(n=function(e,t,a){return a.Nodes["coll-schema"]||(a.Nodes["coll-schema"]=a.Collection.extend({node:"schema",label:e("Schemas"),type:"coll-schema",columns:["name","namespaceowner","description"]})),a.Nodes.schema||(a.Nodes.schema=a.Node.extend({parent_type:"database",type:"schema",sqlAlterHelp:"sql-alterschema.html",sqlCreateHelp:"sql-createschema.html",dialogHelp:t("help.static",{filename:"schema_dialog.html"}),label:e("Schema"),hasSQL:!0,canDrop:!0,canDropCascade:!0,hasDepends:!0,Init:function(){this.initialized||(this.initialized=!0,a.add_menus([{name:"create_schema_on_coll",node:"coll-schema",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:1,label:e("Schema..."),data:{action:"create"}},{name:"create_schema",node:"schema",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:1,label:e("Schema..."),data:{action:"create"}},{name:"create_schema",node:"database",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:1,label:e("Schema..."),data:{action:"create"},enable:"can_create_schema"}]))},can_create_schema:function(e){return a.Nodes.database.is_conn_allow.call(this,e)},getSchema:function(e,t){var o=a.Nodes.schema;return new i.default((function(a){return(0,c.getNodePrivilegeRoleSchema)(o,e,t,a)}),{roles:function(){return(0,l.getNodeListByName)("role",e,t,{cacheLevel:"database"})},server_info:a.serverInfo[e.server._id]},{namespaceowner:a.serverInfo[e.server._id].user.name})}}),a.tableChildTreeNodeHierarchy=function(e){return a.tree.getTreeNodeHierarchy(e)}),a.Nodes.schema}.apply(t,o))||(e.exports=n)},73464:(e,t,a)=>{a(69070);var o=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.childCreateMenuEnabled=function(e,t,a){if(a&&!a.check)return!0;var o=n.tree.findNodeByDomElement(t);return!!o&&o.anyFamilyMember((function(e){return"schema"===e.getData()._type}))},t.isTreeItemOfChildOfSchema=function(e,t){var a=n.tree.findNodeByDomElement(t);return!!a&&r(a)},t.isTreeNodeOfSchemaChild=r;var n=o(a(75888)).default.Browser;function r(e){return e.anyParent((function(e){return"schema"===e.getData()._type}))}},12041:(e,t,a)=>{var o,n,r=a(64836);a(82772),a(68309);var i=a(37331),c=r(a(85341)),l=r(a(96486));o=[a(97282),a(66377),a(75888),a(61105),a(82244),a(73464),a(77257)],void 0===(n=function(e,t,a,o,n,r){return o.Nodes["coll-synonym"]||(a.Browser.Nodes["coll-synonym"]=a.Browser.Collection.extend({node:"synonym",label:e("Synonyms"),type:"coll-synonym",columns:["name","owner","is_public_synonym"],canDrop:r.isTreeItemOfChildOfSchema,canDropCascade:r.isTreeItemOfChildOfSchema})),o.Nodes.synonym||(a.Browser.Nodes.synonym=n.SchemaChildNode.extend({type:"synonym",epasHelp:!0,dialogHelp:t("help.static",{filename:"synonym_dialog.html"}),label:e("Synonym"),collection_type:"coll-synonym",hasSQL:!0,hasDepends:!0,parent_type:["schema","catalog"],Init:function(){this.initialized||(this.initialized=!0,o.add_menus([{name:"create_synonym_on_coll",node:"coll-synonym",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Synonym..."),data:{action:"create",check:!0,data_disabled:e("This option is only available on EPAS servers.")},enable:"canCreate"},{name:"create_synonym",node:"synonym",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Synonym..."),data:{action:"create",check:!0,data_disabled:e("This option is only available on EPAS servers.")},enable:"canCreate"},{name:"create_synonym",node:"schema",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Synonym..."),data:{action:"create",check:!0,data_disabled:e("This option is only available on EPAS servers.")},enable:"canCreate"}]))},getSchema:function(e,t){var a=this;return new c.default({role:function(){return(0,i.getNodeListByName)("role",e,t)},schema:function(){return(0,i.getNodeListByName)("schema",e,t,{cacheLevel:"database",cacheNode:"database"})},synobjschema:function(){return(0,i.getNodeListByName)("schema",e,t,{},(function(e){return e&&-1==l.default.indexOf(["pg_catalog","sys","dbo","pgagent","information_schema","dbms_job_procedure"],e.label)}))},getTargetObjectOptions:function(o,n){return(0,i.getNodeAjaxOptions)("get_target_objects",a,e,t,{urlParams:{trgTyp:o,trgSchema:n},useCache:!1})}},e,{owner:o.serverInfo[e.server._id].user.name,schema:t.label,synobjschema:t.label})},canCreate:function(e,t,a){if(a&&!a.check)return!0;var n=o.tree.getTreeNodeHierarchy(t),r=n.server;return(!r||"pg"!==r.server_type)&&null==n.catalog}})),o.Nodes.synonym}.apply(t,o))||(e.exports=n)},485:(e,t,a)=>{var o,n,r=a(64836);a(82772);var i=a(83104),c=r(a(96486));o=[a(97282),a(66377),a(61105),a(73464),a(77257)],void 0===(n=function(e,t,a,o){return a.Nodes["coll-column"]||(a.Nodes["coll-column"]=a.Collection.extend({node:"column",label:e("Columns"),type:"coll-column",columns:["name","cltype","is_pk","attnotnull","description"],canDrop:o.isTreeItemOfChildOfSchema,canDropCascade:!1})),a.Nodes.column||(a.Nodes.column=a.Node.extend({parent_type:["table","view","mview","foreign_table"],collection_type:["coll-table","coll-view","coll-mview"],type:"column",label:e("Column"),hasSQL:!0,sqlAlterHelp:"sql-altertable.html",sqlCreateHelp:"sql-altertable.html",dialogHelp:t("help.static",{filename:"column_dialog.html"}),canDrop:function(e,t){var o=a.tree.findNodeByDomElement(t);return!!o&&o.anyParent((function(e){return"table"===e.getData()._type&&!e.anyParent((function(e){return"catalog"===e.getData()._type}))}))},hasDepends:!0,hasStatistics:!0,Init:function(){this.initialized||(this.initialized=!0,a.add_menus([{name:"create_column_on_coll",node:"coll-column",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Column..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"create_column",node:"column",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Column..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"create_column_onTable",node:"table",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Column..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"create_column_onView",node:"view",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Column..."),data:{action:"create",check:!0},enable:"canCreate"}]))},getSchema:function(e,t){return(0,i.getNodeColumnSchema)(e,t,a)},canCreate:function(e,t,o){if(o&&!o.check)return!0;for(var n=a.tree,r=t,i=e,l=[];r;){if(c.default.indexOf(["schema"],i._type)>-1)return!0;if(c.default.indexOf(["view","coll-view","mview","coll-mview"],i._type)>-1){l.push(i._type);break}l.push(i._type),i=(r=n.hasParent(r)?n.parent(r):null)?n.itemData(r):null}return!(c.default.indexOf(l,"catalog")>-1||c.default.indexOf(l,"coll-view")>-1||c.default.indexOf(l,"coll-mview")>-1||c.default.indexOf(l,"mview")>-1||c.default.indexOf(l,"view")>-1)}})),a.Nodes.column}.apply(t,o))||(e.exports=n)},81425:(e,t,a)=>{var o,n,r=a(64836),i=a(37331),c=r(a(62566)),l=r(a(16969));o=[a(97282),a(66377),a(75888),a(61105),a(73464),a(77257)],void 0===(n=function(e,t,a,o,n){return o.Nodes["coll-compound_trigger"]||(a.Browser.Nodes["coll-compound_trigger"]=a.Browser.Collection.extend({node:"compound_trigger",label:e("Compound Triggers"),type:"coll-compound_trigger",columns:["name","description"],canDrop:n.isTreeItemOfChildOfSchema,canDropCascade:n.isTreeItemOfChildOfSchema})),o.Nodes.compound_trigger||(a.Browser.Nodes.compound_trigger=o.Node.extend({parent_type:["table","view","partition"],collection_type:["coll-table","coll-view"],type:"compound_trigger",label:e("Compound Trigger"),hasSQL:!0,hasDepends:!0,width:o.stdW.sm+"px",epasHelp:!0,dialogHelp:t("help.static",{filename:"compound_trigger_dialog.html"}),url_jump_after_node:"schema",Init:function(){this.initialized||(this.initialized=!0,o.add_menus([{name:"create_compound_trigger_on_coll",node:"coll-compound_trigger",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Compound Trigger..."),data:{action:"create",check:!0,data_disabled:e("This option is only available on EPAS servers.")},enable:"canCreate"},{name:"create_compound_trigger",node:"compound_trigger",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Compound Trigger..."),data:{action:"create",check:!0,data_disabled:e("This option is only available on EPAS servers.")},enable:"canCreate"},{name:"create_compound_trigger_onTable",node:"table",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Compound Trigger..."),data:{action:"create",check:!0,data_disabled:e("This option is only available on EPAS servers.")},enable:"canCreate"},{name:"create_compound_trigger_onPartition",node:"partition",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Compound Trigger..."),data:{action:"create",check:!0,data_disabled:e("This option is only available on EPAS servers.")},enable:"canCreate"},{name:"enable_compound_trigger",node:"compound_trigger",module:this,applies:["object","context"],callback:"enable_compound_trigger",category:"connect",priority:3,label:e("Enable compound trigger"),enable:"canCreate_with_compound_trigger_enable"},{name:"disable_compound_trigger",node:"compound_trigger",module:this,applies:["object","context"],callback:"disable_compound_trigger",category:"drop",priority:3,label:e("Disable compound trigger"),enable:"canCreate_with_compound_trigger_disable"},{name:"create_compound_trigger_onView",node:"view",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Compound Trigger..."),data:{action:"create",check:!0,data_disabled:e("This option is only available on EPAS servers.")},enable:"canCreate"}]))},callbacks:{enable_compound_trigger:function(e){var t=e||{},n=o.tree,r=t.item||n.selected(),i=r?n.itemData(r):void 0;if(!i)return!1;var c=i;(0,l.default)().put(this.generate_url(r,"enable",i,!0),{is_enable_trigger:"O"}).then((function(e){var t=e.data;1==t.success&&(a.Browser.notifier.success(t.info),n.removeIcon(r),c.icon="icon-compound_trigger",n.addIcon(r,{icon:c.icon}),n.updateAndReselectNode(r,c))})).catch((function(e){a.Browser.notifier.pgRespErrorNotify(e),n.refresh(r)}))},disable_compound_trigger:function(e){var t=e||{},n=o.tree,r=t.item||n.selected(),i=r?n.itemData(r):void 0;if(!i)return!1;var c=i;(0,l.default)().put(this.generate_url(r,"enable",i,!0),{is_enable_trigger:"D"}).then((function(e){var t=e.data;1==t.success&&(a.Browser.notifier.success(t.info),n.removeIcon(r),c.icon="icon-compound_trigger-bad",n.addIcon(r,{icon:c.icon}),n.updateAndReselectNode(r,c))})).catch((function(e){a.Browser.notifier.pgRespErrorNotify(e),n.refresh(r)}))}},canDrop:n.isTreeItemOfChildOfSchema,canDropCascade:n.isTreeItemOfChildOfSchema,getSchema:function(e,t){return new c.default({columns:function(){return(0,i.getNodeListByName)("column",e,t,{cacheLevel:"column"})}},e)},canCreate:function(e,t,a){if(a&&!a.check)return!0;var n=o.tree.getTreeNodeHierarchy(t),r=n.server;return(!r||!("pg"===r.server_type||r.version<12e4))&&null==n.catalog},canCreate_with_compound_trigger_enable:function(e,t,a){return!("view"in o.tree.getTreeNodeHierarchy(t))&&("icon-compound_trigger-bad"===e.icon&&this.canCreate.apply(this,[e,t,a]))},canCreate_with_compound_trigger_disable:function(e,t,a){return!("view"in o.tree.getTreeNodeHierarchy(t))&&("icon-compound_trigger"===e.icon&&this.canCreate.apply(this,[e,t,a]))}})),o.Nodes.compound_trigger}.apply(t,o))||(e.exports=n)},6279:(e,t,a)=>{var o,n,r=a(64836);a(32564),a(82772);var i=r(a(77417)),c=r(a(96486)),l=r(a(16969));o=[a(97282),a(66377),a(75888),a(61105),a(73464),a(77257)],void 0===(n=function(e,t,a,o,n){return o.Nodes.check_constraint||(a.Browser.Nodes.check_constraint=o.Node.extend({type:"check_constraint",label:e("Check"),collection_type:"coll-constraints",sqlAlterHelp:"ddl-alter.html",sqlCreateHelp:"ddl-constraints.html",dialogHelp:t("help.static",{filename:"check_dialog.html"}),hasSQL:!0,hasDepends:!0,parent_type:["table","partition","foreign_table"],url_jump_after_node:"schema",Init:function(){this.initialized||(this.initialized=!0,o.add_menus([{name:"create_check_constraint_on_coll",node:"coll-constraints",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:5,label:e("Check..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"validate_check_constraint",node:"check_constraint",module:this,applies:["object","context"],callback:"validate_check_constraint",category:"validate",priority:4,label:e("Validate check constraint"),enable:"is_not_valid",data:{action:"edit",check:!0}}]))},is_not_valid:function(e,t,a){return!!this.canCreate(e,t,a)&&(e&&!e.valid)},callbacks:{validate_check_constraint:function(e){var t=e||{},n=o.tree,r=t.item||n.selected(),i=r?n.itemData(r):void 0;if(i){var c=i;(0,l.default)().get(this.generate_url(r,"validate",i,!0)).then((function(e){var t=e.data;1==t.success&&(a.Browser.notifier.success(t.info),n.removeIcon(r),c.valid=!0,c.icon="icon-check_constraint",n.addIcon(r,{icon:c.icon}),setTimeout((function(){n.deselect(r)}),10),setTimeout((function(){n.select(r)}),100))})).catch((function(e){a.Browser.notifier.pgRespErrorNotify(e),n.unload(r)}))}return!1}},canDrop:n.isTreeItemOfChildOfSchema,getSchema:function(){return new i.default},canCreate:function(e,t,a){if(a&&!a.check)return!0;for(var n=o.tree,r=t,i=e,l=[];r;){if(c.default.indexOf(["schema"],i._type)>-1)return!0;l.push(i._type),i=(r=n.hasParent(r)?n.parent(r):null)?n.itemData(r):null}return c.default.indexOf(l,"catalog")<=-1}})),o.Nodes.check_constraint}.apply(t,o))||(e.exports=n)},20803:(e,t,a)=>{var o,n,r=a(64836);a(82772);var i=a(35379),c=r(a(96486));o=[a(97282),a(66377),a(75888),a(61105),a(77257)],void 0===(n=function(e,t,a,o){return o.Nodes.exclusion_constraint||(a.Browser.Nodes.exclusion_constraint=o.Node.extend({type:"exclusion_constraint",label:e("Exclusion constraint"),collection_type:"coll-constraints",sqlAlterHelp:"ddl-alter.html",sqlCreateHelp:"ddl-constraints.html",dialogHelp:t("help.static",{filename:"exclusion_constraint_dialog.html"}),hasSQL:!0,parent_type:["table","partition"],canDrop:!0,canDropCascade:!0,hasDepends:!0,hasStatistics:!0,statsPrettifyFields:[e("Index size")],url_jump_after_node:"schema",width:o.stdW.md+"px",Init:function(){this.initialized||(this.initialized=!0,o.add_menus([{name:"create_exclusion_constraint_on_coll",node:"coll-constraints",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Exclusion constraint..."),data:{action:"create",check:!0},enable:"canCreate"}]))},is_not_valid:function(e){return e&&!e.valid},getSchema:function(e,t){return(0,i.getNodeExclusionConstraintSchema)(e,t,a.Browser)},canCreate:function(e,t,a){if(a&&!a.check)return!0;for(var n=o.tree,r=t,i=e,l=[],s=!1,d=!1;r;){if(s||"table"!=i._type&&"partition"!=i._type||(s=!0,"is_partitioned"in i&&i.is_partitioned&&(d=!0)),c.default.indexOf(["schema"],i._type)>-1)return!d;if(c.default.indexOf(["foreign_table","coll-foreign_table"],i._type)>-1)return!1;l.push(i._type),i=(r=n.hasParent(r)?n.parent(r):null)?n.itemData(r):null}return!(c.default.indexOf(l,"catalog")>-1)&&!d}})),o.Nodes.exclusion_constraint}.apply(t,o))||(e.exports=n)},75129:(e,t,a)=>{var o,n,r=a(64836);a(32564),a(82772);var i=a(81172),c=r(a(96486)),l=r(a(16969));o=[a(97282),a(66377),a(75888),a(61105),a(77257)],void 0===(n=function(e,t,a,o){return o.Nodes.foreign_key||(a.Browser.Nodes.foreign_key=o.Node.extend({type:"foreign_key",label:e("Foreign key"),collection_type:"coll-constraints",sqlAlterHelp:"ddl-alter.html",sqlCreateHelp:"ddl-constraints.html",dialogHelp:t("help.static",{filename:"foreign_key_dialog.html"}),hasSQL:!0,parent_type:["table","partition"],canDrop:!0,canDropCascade:!0,hasDepends:!0,url_jump_after_node:"schema",Init:function(){this.initialized||(this.initialized=!0,o.add_menus([{name:"create_foreign_key_on_coll",node:"coll-constraints",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Foreign key..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"validate_foreign_key",node:"foreign_key",module:this,applies:["object","context"],callback:"validate_foreign_key",category:"validate",priority:4,label:e("Validate foreign key"),enable:"is_not_valid"}]))},is_not_valid:function(e){return e&&!e.valid},callbacks:{validate_foreign_key:function(e){var t=e||{},n=o.tree,r=t.item||n.selected(),i=r?n.itemData(r):void 0;if(i){var c=i;(0,l.default)().get(this.generate_url(r,"validate",i,!0)).then((function(e){var t=e.data;1==t.success&&(a.Browser.notifier.success(t.info),n.removeIcon(r),c.valid=!0,c.icon="icon-foreign_key",n.addIcon(r,{icon:c.icon}),setTimeout((function(){n.deselect(r)}),10),setTimeout((function(){n.select(r)}),100))})).catch((function(e){a.Browser.notifier.pgRespErrorNotify(e),n.unload(r)}))}return!1}},getSchema:function(e,t){return(0,i.getNodeForeignKeySchema)(e,t,a.Browser)},canCreate:function(e,t,a){if(a&&!a.check)return!0;for(var n=o.tree,r=t,i=e,l=[],s=!1,d=!1,p=n.getTreeNodeHierarchy(r).server.version;r;){if(s||"table"!=i._type&&"partition"!=i._type||(s=!0,"is_partitioned"in i&&i.is_partitioned&&p<11e4&&(d=!0)),c.default.indexOf(["schema"],i._type)>-1)return!d;if(c.default.indexOf(["foreign_table","coll-foreign_table"],i._type)>-1)return!1;l.push(i._type),i=(r=n.hasParent(r)?n.parent(r):null)?n.itemData(r):null}return!(c.default.indexOf(l,"catalog")>-1)&&!d}})),o.Nodes.foreign_key}.apply(t,o))||(e.exports=n)},59221:(e,t,a)=>{var o,n,r=a(64836);a(82772);var i=a(37331),c=r(a(36249)),l=r(a(96486));o=[a(97282),a(66377),a(75888),a(61105),a(77257)],void 0===(n=function(e,t,a,o){return o.Nodes.primary_key||(a.Browser.Nodes.primary_key=o.Node.extend({type:"primary_key",label:e("Primary key"),collection_type:"coll-constraints",sqlAlterHelp:"ddl-alter.html",sqlCreateHelp:"ddl-constraints.html",dialogHelp:t("help.static",{filename:"primary_key_dialog.html"}),hasSQL:!0,hasDepends:!0,hasStatistics:!0,statsPrettifyFields:[e("Index size")],parent_type:["table","partition"],canDrop:!0,canDropCascade:!0,url_jump_after_node:"schema",Init:function(){this.initialized||(this.initialized=!0,o.add_menus([{name:"create_primary_key_on_coll",node:"coll-constraints",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Primary key"),data:{action:"create",check:!0},enable:"canCreate"}]))},canCreate:function(e,t,a){var n=arguments;if(a&&!a.check)return!0;for(var r,i=o.tree,c=t,s=e,d=[],p=!1,u=!1,_=i.getTreeNodeHierarchy(c).server.version,h=function(){if(p||"table"!=s._type&&"partition"!=s._type||(p=!0,"is_partitioned"in s&&s.is_partitioned&&_<11e4&&(u=!0)),l.default.indexOf(["schema"],s._type)>-1){if(u)return{v:!1};var e=i.children(n[1],!1),t=!1;return l.default.each(e,(function(e){a=o.tree.itemData(e),t||"primary_key"!=a._type||(t=!0)})),{v:!t}}if(l.default.indexOf(["foreign_table","coll-foreign_table"],s._type)>-1)return{v:!1};d.push(s._type),c=i.hasParent(c)?i.parent(c):null,s=c?i.itemData(c):null};c;)if(r=h())return r.v;return!(l.default.indexOf(d,"catalog")>-1)&&!u},getSchema:function(e,t){return new c.default({columns:function(){return(0,i.getNodeListByName)("column",e,t)},spcname:function(){return(0,i.getNodeListByName)("tablespace",e,t,{},(function(e){return"pg_global"!=e.label}))},index:function(){return(0,i.getNodeListByName)("index",e,t,{jumpAfterNode:"schema"})}},e)}})),o.Nodes.primary_key}.apply(t,o))||(e.exports=n)},12252:(e,t,a)=>{var o,n,r=a(64836);a(82772);var i=a(37331),c=r(a(80105)),l=r(a(96486));o=[a(97282),a(66377),a(75888),a(61105),a(77257)],void 0===(n=function(e,t,a,o){return o.Nodes.unique_constraint||(a.Browser.Nodes.unique_constraint=o.Node.extend({type:"unique_constraint",label:e("Unique constraint"),collection_type:"coll-constraints",sqlAlterHelp:"ddl-alter.html",sqlCreateHelp:"ddl-constraints.html",dialogHelp:t("help.static",{filename:"unique_constraint_dialog.html"}),hasSQL:!0,hasDepends:!0,hasStatistics:!0,statsPrettifyFields:[e("Index size")],parent_type:["table","partition"],canDrop:!0,canDropCascade:!0,url_jump_after_node:"schema",Init:function(){this.initialized||(this.initialized=!0,o.add_menus([{name:"create_unique_constraint_on_coll",node:"coll-constraints",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Unique constraint"),data:{action:"create",check:!0},enable:"canCreate"}]))},canCreate:function(e,t,a){if(a&&!a.check)return!0;for(var n=o.tree,r=t,i=e,c=[],s=!1,d=!1,p=o.tree.getTreeNodeHierarchy(r).server.version;r;){if(s||"table"!=i._type&&"partition"!=i._type||(s=!0,"is_partitioned"in i&&i.is_partitioned&&p<11e4&&(d=!0)),l.default.indexOf(["schema"],i._type)>-1)return!d;if(l.default.indexOf(["foreign_table","coll-foreign_table"],i._type)>-1)return!1;c.push(i._type),i=(r=n.hasParent(r)?n.parent(r):null)?n.itemData(r):null}return!(l.default.indexOf(c,"catalog")>-1)&&!d},getSchema:function(e,t){return new c.default({columns:function(){return(0,i.getNodeListByName)("column",e,t)},spcname:function(){return(0,i.getNodeListByName)("tablespace",e,t,{},(function(e){return"pg_global"!=e.label}))},index:function(){return(0,i.getNodeListByName)("index",e,t,{jumpAfterNode:"schema"})}},e)}})),o.Nodes.unique_constraint}.apply(t,o))||(e.exports=n)},59307:(e,t,a)=>{var o,n;o=[a(97282),a(75888),a(61105),a(77257),a(12252),a(6279),a(75129),a(20803),a(59221)],void 0===(n=function(e,t,a){return a.Nodes["coll-constraints"]||(t.Browser.Nodes["coll-constraints"]=t.Browser.Collection.extend({node:"constraints",label:e("Constraints"),type:"coll-constraints",columns:["name","comment"],canDrop:!0,canDropCascade:!0})),a.Nodes.constraints||(t.Browser.Nodes.constraints=a.Node.extend({type:"constraints",label:e("Constraints"),collection_type:["coll-constraints","coll-foreign_table"],parent_type:["table","foreign_table"],url_jump_after_node:"schema",Init:function(){this.initialized||(this.initialized=!0,a.add_menus([]))}})),a.Nodes.constraints}.apply(t,o))||(e.exports=n)},5547:(e,t,a)=>{var o,n,r=a(64836);a(82772);var i=r(a(31303)),c=a(37331),l=r(a(96486));o=[a(97282),a(66377),a(75888),a(61105),a(73464),a(77257)],void 0===(n=function(e,t,a,o,n){return o.Nodes["coll-index"]||(a.Browser.Nodes["coll-index"]=a.Browser.Collection.extend({node:"index",label:e("Indexes"),type:"coll-index",columns:["name","description"],hasStatistics:!0,statsPrettifyFields:[e("Size"),e("Index size")],canDrop:n.isTreeItemOfChildOfSchema,canDropCascade:n.isTreeItemOfChildOfSchema})),o.Nodes.index||(a.Browser.Nodes.index=o.Node.extend({parent_type:["table","view","mview","partition"],collection_type:["coll-table","coll-view"],sqlAlterHelp:"sql-alterindex.html",sqlCreateHelp:"sql-createindex.html",dialogHelp:t("help.static",{filename:"index_dialog.html"}),type:"index",label:e("Index"),hasSQL:!0,hasDepends:!0,hasStatistics:!0,width:o.stdW.lg+"px",statsPrettifyFields:[e("Size"),e("Index size")],url_jump_after_node:"schema",Init:function(){this.initialized||(this.initialized=!0,o.add_menus([{name:"create_index_on_coll",node:"coll-index",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Index..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"create_index",node:"index",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Index..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"create_index_onTable",node:"table",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Index..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"create_index_onPartition",node:"partition",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Index..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"create_index_onMatView",node:"mview",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:5,label:e("Index..."),data:{action:"create",check:!0},enable:"canCreate"}]))},canDrop:n.isTreeItemOfChildOfSchema,canDropCascade:n.isTreeItemOfChildOfSchema,canCreate:function(e,t,a){if(a&&!a.check)return!0;for(var n=o.tree,r=t,i=e,c=[],s=!1,d=!1,p=n.getTreeNodeHierarchy(r).server.version;r;){if(!s&&l.default.indexOf(["table","partition"],i._type)>-1&&(s=!0,"is_partitioned"in i&&i.is_partitioned&&p<11e4&&(d=!0)),l.default.indexOf(["schema"],i._type)>-1)return!d;c.push(i._type),i=(r=n.hasParent(r)?n.parent(r):null)?n.itemData(r):null}return!(l.default.indexOf(c,"catalog")>-1)&&!d},getSchema:function(e,t){var o=a.Browser.Nodes.index;return new i.default({tablespaceList:function(){return(0,c.getNodeListByName)("tablespace",e,t,{},(function(e){return"pg_global"!=e.label}))},amnameList:function(){return(0,c.getNodeAjaxOptions)("get_access_methods",o,e,t,{jumpAfterNode:"schema"})},columnList:function(){return(0,c.getNodeListByName)("column",e,t,{})},collationList:function(){return(0,c.getNodeAjaxOptions)("get_collations",o,e,t,{jumpAfterNode:"schema"})},opClassList:function(){return(0,c.getNodeAjaxOptions)("get_op_class",o,e,t,{jumpAfterNode:"schema"})}},{node_info:e},{amname:"btree",deduplicate_items:e.server.version>=13e4||void 0})}})),o.Nodes.index}.apply(t,o))||(e.exports=n)},10196:(e,t,a)=>{var o,n,r=a(64836);a(82772);var i=a(17683),c=r(a(96486)),l=r(a(16969));o=[a(97282),a(66377),a(75888),a(61105),a(73464),a(44749),a(77257)],void 0===(n=function(e,t,a,o,n,r){return o.Nodes["coll-partition"]||(a.Browser.Nodes["coll-partition"]=a.Browser.Collection.extend({node:"partition",label:e("Partitions"),type:"coll-partition",columns:["name","schema","partition_scheme","partition_value","is_partitioned","description"],canDrop:n.isTreeItemOfChildOfSchema,canDropCascade:n.isTreeItemOfChildOfSchema})),o.Nodes.partition||(a.Browser.Nodes.partition=o.Node.extend({parent_type:"table",collection_type:"coll-partition",type:"partition",label:e("Partition"),hasSQL:!0,hasDepends:!0,hasStatistics:!0,statsPrettifyFields:[e("Total Size"),e("Indexes size"),e("Table size"),e("TOAST table size"),e("Tuple length"),e("Dead tuple length"),e("Free space")],sqlAlterHelp:"sql-altertable.html",sqlCreateHelp:"sql-createtable.html",dialogHelp:t("help.static",{filename:"table_dialog.html"}),hasScriptTypes:["create"],width:"650px",Init:function(){this.initialized||(this.initialized=!0,o.add_menus([{name:"truncate_table",node:"partition",module:this,applies:["object","context"],callback:"truncate_table",category:e("Truncate"),priority:3,label:e("Truncate"),enable:"canCreate"},{name:"truncate_table_cascade",node:"partition",module:this,applies:["object","context"],callback:"truncate_table_cascade",category:e("Truncate"),priority:3,label:e("Truncate Cascade"),enable:"canCreate"},{name:"enable_all_triggers",node:"partition",module:this,applies:["object","context"],callback:"enable_triggers_on_table",category:e("Trigger(s)"),priority:4,label:e("Enable All"),enable:"canCreate_with_trigger_enable",data:{data_disabled:e("The selected tree node does not support this option.")}},{name:"disable_all_triggers",node:"partition",module:this,applies:["object","context"],callback:"disable_triggers_on_table",category:e("Trigger(s)"),priority:4,label:e("Disable All"),enable:"canCreate_with_trigger_disable",data:{data_disabled:e("The selected tree node does not support this option.")}},{name:"reset_table_stats",node:"partition",module:this,applies:["object","context"],callback:"reset_table_stats",category:"Reset",priority:4,label:e("Reset Statistics"),enable:"canCreate"},{name:"detach_partition",node:"partition",module:this,applies:["object","context"],callback:"detach_partition",category:e("Detach Partition"),priority:2,label:e("Detach")},{name:"detach_partition_concurrently",node:"partition",module:this,applies:["object","context"],callback:"detach_partition_concurrently",category:e("Detach Partition"),priority:2,label:e("Concurrently"),enable:function(e,t){var a=o.tree.getTreeNodeHierarchy(t),n=a.server,r=a.partition;return n&&n.version>=14e4&&!r.is_detach_pending}},{name:"detach_partition_finalize",node:"partition",module:this,applies:["object","context"],callback:"detach_partition_finalize",category:e("Detach Partition"),priority:2,label:e("Finalize"),enable:function(e,t){var a=o.tree.getTreeNodeHierarchy(t),n=a.server,r=a.partition;return n&&n.version>=14e4&&r.is_detach_pending}},{name:"count_table_rows",node:"partition",module:o.Nodes.table,applies:["object","context"],callback:"count_table_rows",category:"Count",priority:2,label:e("Count Rows"),enable:!0}]))},generate_url:function(e,t,a,n,i){return-1==c.default.indexOf(["stats","statistics","dependency","dependent","reset","get_relations","get_oftype","get_attach_tables"],t)?o.Node.generate_url.apply(this,arguments):("statistics"==t&&(t="stats"),i=c.default.isUndefined(e)||c.default.isNull(e)?i||{}:o.tree.getTreeNodeHierarchy(e),r.sprintf("table/%s/%s/%s/%s/%s/%s",encodeURIComponent(t),encodeURIComponent(i.server_group._id),encodeURIComponent(i.server._id),encodeURIComponent(i.database._id),encodeURIComponent(i.partition.schema_id),encodeURIComponent(i.partition._id)))},on_done:function(e,t,o,n){1==e.success&&(a.Browser.notifier.success(e.info),o.removeIcon(n),t.icon="icon-partition",o.addIcon(n,{icon:t.icon}),o.updateAndReselectNode(n,t))},canDrop:n.isTreeItemOfChildOfSchema,canDropCascade:n.isTreeItemOfChildOfSchema,callbacks:{enable_triggers_on_table:function(e){this.callbacks.set_triggers.apply(this,[e,{is_enable_trigger:"O"}])},disable_triggers_on_table:function(e){this.callbacks.set_triggers.apply(this,[e,{is_enable_trigger:"D"}])},set_triggers:function(e,t){var n=e||{},r=o.tree,i=n.item||r.selected(),c=i?r.itemData(i):void 0;if(!c)return!1;(0,l.default)().put(this.generate_url(i,"set_trigger",c,!0),t).then((function(e){var t=e.data;1==t.success&&(a.Browser.notifier.success(t.info),r.updateAndReselectNode(i,c))})).catch((function(e){a.Browser.notifier.pgRespErrorNotify(e),r.refresh(i)}))},truncate_table:function(e){this.callbacks.truncate.apply(this,[e,{cascade:!1}])},truncate_table_cascade:function(e){this.callbacks.truncate.apply(this,[e,{cascade:!0}])},truncate:function(t,n){var r=t||{},i=this,c=o.tree,s=r.item||c.selected(),d=s?c.itemData(s):void 0;if(!d)return!1;a.Browser.notifier.confirm(e("Truncate Table"),e("Are you sure you want to truncate table %s?",d.label),(function(){var e=d;(0,l.default)().put(i.generate_url(s,"truncate",d,!0),n).then((function(t){var a=t.data;i.on_done(a,e,c,s)})).catch((function(e){a.Browser.notifier.pgRespErrorNotify(e),c.unload(s)}))}))},reset_table_stats:function(t){var n=t||{},r=this,i=o.tree,c=n.item||i.selected(),s=c?i.itemData(c):void 0;if(!s)return!1;a.Browser.notifier.confirm(e("Reset statistics"),e('Are you sure you want to reset the statistics for table "%s"?',s._label),(function(){var e=s;(0,l.default)().delete(r.generate_url(c,"reset",s,!0)).then((function(t){var a=t.data;r.on_done(a,e,i,c)})).catch((function(e){a.Browser.notifier.pgRespErrorNotify(e),i.unload(c)}))}),(function(){}))},detach:function(t,n){var r=t||{},i=this,c=o.tree,s=r.item||c.selected(),d=s?c.itemData(s):void 0;if(!d)return!1;var p=e("Detach Partition");"concurrently"===n.mode?p=e("Detach Partition Concurrently"):"finalize"===n.mode&&(p=e("Detach Partition Finalize")),a.Browser.notifier.confirm(p,e("Are you sure you want to detach the partition %s?",d._label),(function(){(0,l.default)().put(i.generate_url(s,"detach",d,!0),n).then((function(e){var t=e.data;if(1==t.success){a.Browser.notifier.success(t.info);var o=c.next(s);o||(o=c.prev(s))||(o=c.parent(s)),c.remove(s),o&&c.select(o)}})).catch((function(e){a.Browser.notifier.pgRespErrorNotify(e)}))}),(function(){}))},detach_partition:function(e){this.callbacks.detach.apply(this,[e,{mode:"detach"}])},detach_partition_concurrently:function(e){this.callbacks.detach.apply(this,[e,{mode:"concurrently"}])},detach_partition_finalize:function(e){this.callbacks.detach.apply(this,[e,{mode:"finalize"}])}},getSchema:function(e,t){return(0,i.getNodePartitionTableSchema)(e,t,o)},canCreate:n.isTreeItemOfChildOfSchema,canCreate_with_trigger_enable:function(e,t,a){if(this.canCreate.apply(this,[e,t,a]))return e.tigger_count>0},canCreate_with_trigger_disable:function(e,t,a){if(this.canCreate.apply(this,[e,t,a]))return e.tigger_count>0&&e.has_enable_triggers>0}})),o.Nodes.partition}.apply(t,o))||(e.exports=n)},5106:(e,t,a)=>{var o,n,r=a(64836)(a(68047)),i=a(37331);o=[a(97282),a(66377),a(75888),a(61105),a(73464),a(77257)],void 0===(n=function(e,t,a,o,n){return o.Nodes["coll-row_security_policy"]||(a.Browser.Nodes["coll-row_security_policy"]=a.Browser.Collection.extend({node:"row_security_policy",label:e("RLS Policies"),type:"coll-row_security_policy",columns:["name","description"],canDrop:n.isTreeItemOfChildOfSchema,canDropCascade:n.isTreeItemOfChildOfSchema})),o.Nodes.row_security_policy||(a.Browser.Nodes.row_security_policy=o.Node.extend({parent_type:["table","view","partition"],collection_type:["coll-table","coll-view"],type:"row_security_policy",label:e("RLS Policy"),hasSQL:!0,hasDepends:!0,width:o.stdW.sm+"px",sqlAlterHelp:"sql-alterpolicy.html",sqlCreateHelp:"sql-createpolicy.html",dialogHelp:t("help.static",{filename:"rls_policy_dialog.html"}),url_jump_after_node:"schema",Init:function(){this.initialized||(this.initialized=!0,o.add_menus([{name:"create_row_security_policy_on_coll",node:"coll-row_security_policy",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:1,label:e("RLS Policy..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"create_row_security_policy",node:"row_security_policy",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:1,label:e("RLS Policy..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"create_row_security_policy_on_coll",node:"table",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:6,label:e("RLS Policy..."),data:{action:"create",check:!0},enable:"canCreate"}]))},canDrop:n.isTreeItemOfChildOfSchema,canDropCascade:n.isTreeItemOfChildOfSchema,getSchema:function(e,t){return new r.default({role:function(){return(0,i.getNodeListByName)("role",e,t,{},(function(){return!0}),(function(e){return e.unshift({label:"PUBLIC",value:"public"}),e}))},nodeInfo:e})},canCreate:function(e,t){var a=o.tree.getTreeNodeHierarchy(t),n=a.server;return null==a.catalog&&(n&&n.version>=90500)}})),o.Nodes.row_security_policy}.apply(t,o))||(e.exports=n)},83110:(e,t,a)=>{var o,n,r=a(64836);a(82772);var i=r(a(86005)),c=r(a(96486)),l=r(a(16969));o=[a(97282),a(66377),a(75888),a(61105),a(73464)],void 0===(n=function(e,t,a,o,n){return o.Nodes["coll-rule"]||(a.Browser.Nodes["coll-rule"]=a.Browser.Collection.extend({node:"rule",label:e("Rules"),type:"coll-rule",columns:["name","owner","comment"],canDrop:n.isTreeItemOfChildOfSchema,canDropCascade:n.isTreeItemOfChildOfSchema})),o.Nodes.rule||(a.Browser.Nodes.rule=o.Node.extend({parent_type:["table","view","partition"],type:"rule",sqlAlterHelp:"sql-alterrule.html",sqlCreateHelp:"sql-createrule.html",dialogHelp:t("help.static",{filename:"rule_dialog.html"}),label:e("rule"),collection_type:"coll-table",hasSQL:!0,hasDepends:!0,canDrop:function(e,t){return n.isTreeItemOfChildOfSchema.apply(this,[e,t]),!c.default.has(e,"label")||"_RETURN"!==e.label},canDropCascade:function(e,t){return n.isTreeItemOfChildOfSchema.apply(this,[e,t]),!c.default.has(e,"label")||"_RETURN"!==e.label},url_jump_after_node:"schema",Init:function(){this.initialized||(this.initialized=!0,o.add_menus([{name:"create_rule_on_coll",node:"coll-rule",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:1,label:e("Rule..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"create_rule_onView",node:"view",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:5,label:e("Rule..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"create_rule",node:"rule",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:1,label:e("Rule..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"create_rule",node:"table",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Rule..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"create_rule",node:"partition",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Rule..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"enable_rule",node:"rule",module:this,applies:["object","context"],callback:"enable_rule",category:"connect",priority:3,label:e("Enable"),enable:"canCreate_with_rule_enable"},{name:"disable_rule",node:"rule",module:this,applies:["object","context"],callback:"disable_rule",category:"drop",priority:3,label:e("Disable"),enable:"canCreate_with_rule_disable"}]))},callbacks:{enable_rule:function(e){var t=e||{},n=o.tree,r=t.item||n.selected(),i=r?n.itemData(r):void 0;if(!i)return!1;var c=i;(0,l.default)().put(this.generate_url(r,"obj",i,!0),{is_enable_rule:"O"}).then((function(){a.Browser.notifier.success("Rule updated."),n.removeIcon(r),c.icon="icon-rule",n.addIcon(r,{icon:c.icon}),n.updateAndReselectNode(r,c)})).catch((function(e){a.Browser.notifier.pgRespErrorNotify(e),n.refresh(r)}))},disable_rule:function(e){var t=e||{},n=o.tree,r=t.item||n.selected(),i=r?n.itemData(r):void 0;if(!i)return!1;var c=i;(0,l.default)().put(this.generate_url(r,"obj",i,!0),{is_enable_rule:"D"}).then((function(){a.Browser.notifier.success("Rule updated"),n.removeIcon(r),c.icon="icon-rule-bad",n.addIcon(r,{icon:c.icon}),n.updateAndReselectNode(r,c)})).catch((function(e){a.Browser.notifier.pgRespErrorNotify(e),n.refresh(r)}))}},getSchema:function(e,t){return new i.default({nodeInfo:e,nodeData:t})},canCreate:function(e,t,a){if(a&&!1===a.check)return!0;for(var n=o.tree,r=t,i=e;r;){if(c.default.indexOf(["schema"],i._type)>-1)return!0;if("coll-rule"==i._type){var l=n.hasParent(r)?n.parent(r):null,s=n.hasParent(l)?n.parent(l):null,d=n.hasParent(s)?n.parent(s):null,p=d?n.itemData(d):null;return c.default.isNull(p)||"catalog"!=p._type}if("view"==i._type||"table"==i._type){var u=n.hasParent(r)?n.parent(r):null,_=n.hasParent(u)?n.parent(u):null,h=_?n.itemData(_):null;return!c.default.isNull(h)&&"schema"==h._type}i=(r=n.hasParent(r)?n.parent(r):null)?n.itemData(r):null}return!0},canCreate_with_rule_enable:function(e,t,a){return!("view"in o.tree.getTreeNodeHierarchy(t))&&("icon-rule-bad"===e.icon&&this.canCreate.apply(this,[e,t,a]))},canCreate_with_rule_disable:function(e,t,a){return!("view"in o.tree.getTreeNodeHierarchy(t))&&("icon-rule"===e.icon&&this.canCreate.apply(e,t,a))}})),o.Nodes["coll-rule"]}.apply(t,o))||(e.exports=n)},75646:(e,t,a)=>{var o,n;a(47941),a(82526),a(57327),a(41539),a(38880),a(89554),a(54747),a(49337),a(33321),a(69070);var r=a(64836),i=r(a(38416));a(24812),a(21249),a(91058),a(92222);var c=a(22410),l=r(a(96486)),s=r(a(16969));function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}o=[a(27155),a(97282),a(66377),a(75888),a(61105),a(82244),a(73464),a(77257),a(485),a(59307)],void 0===(n=function(e,t,a,o,n,r,i){return n.Nodes["coll-table"]||(n.Nodes["coll-table"]=n.Collection.extend({node:"table",label:t("Tables"),type:"coll-table",columns:["name","relowner","is_partitioned","description"],hasStatistics:!0,statsPrettifyFields:[t("Total Size"),t("Indexes size"),t("Table size"),t("TOAST table size"),t("Tuple length"),t("Dead tuple length"),t("Free space")],canDrop:i.isTreeItemOfChildOfSchema,canDropCascade:i.isTreeItemOfChildOfSchema})),n.Nodes.table||(n.Nodes.table=r.SchemaChildNode.extend({type:"table",label:t("Table"),collection_type:"coll-table",hasSQL:!0,hasDepends:!0,hasStatistics:!0,statsPrettifyFields:[t("Total Size"),t("Indexes size"),t("Table size"),t("TOAST table size"),t("Tuple length"),t("Dead tuple length"),t("Free space")],sqlAlterHelp:"sql-altertable.html",sqlCreateHelp:"sql-createtable.html",dialogHelp:a("help.static",{filename:"table_dialog.html"}),hasScriptTypes:["create","select","insert","update","delete"],width:n.stdW.lg+"px",Init:function(){this.initialized||(this.initialized=!0,n.add_menus([{name:"create_table_on_coll",node:"coll-table",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:1,label:t("Table..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"create_table",node:"table",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:1,label:t("Table..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"create_table__on_schema",node:"schema",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:t("Table..."),data:{action:"create",check:!1},enable:"canCreate"},{name:"truncate_table",node:"table",module:this,applies:["object","context"],callback:"truncate_table",category:t("Truncate"),priority:3,label:t("Truncate"),enable:"canCreate"},{name:"truncate_table_cascade",node:"table",module:this,applies:["object","context"],callback:"truncate_table_cascade",category:t("Truncate"),priority:3,label:t("Truncate Cascade"),enable:"canCreate"},{name:"truncate_table_identity",node:"table",module:this,applies:["object","context"],callback:"truncate_table_identity",category:t("Truncate"),priority:3,label:t("Truncate Restart Identity"),enable:"canCreate"},{name:"enable_all_triggers",node:"table",module:this,applies:["object","context"],callback:"enable_triggers_on_table",category:t("Trigger(s)"),priority:4,label:t("Enable All"),enable:"canCreate_with_trigger_enable",data:{data_disabled:t("The selected tree node does not support this option.")}},{name:"disable_all_triggers",node:"table",module:this,applies:["object","context"],callback:"disable_triggers_on_table",category:t("Trigger(s)"),priority:4,label:t("Disable All"),enable:"canCreate_with_trigger_disable",data:{data_disabled:t("The selected tree node does not support this option.")}},{name:"reset_table_stats",node:"table",module:this,applies:["object","context"],callback:"reset_table_stats",category:"Reset",priority:4,label:t("Reset Statistics"),enable:"canCreate"},{name:"count_table_rows",node:"table",module:this,applies:["object","context"],callback:"count_table_rows",category:"Count",priority:2,label:t("Count Rows"),enable:!0},{name:"generate_erd",node:"table",module:this,applies:["object","context"],callback:"generate_erd",category:"erd",priority:5,label:t("ERD For Table")}]),n.Events.on("pgadmin:browser:node:table:updated",this.onTableUpdated.bind(this)),n.Events.on("pgadmin:browser:node:type:cache_cleared",this.handle_cache.bind(this)),n.Events.on("pgadmin:browser:node:domain:cache_cleared",this.handle_cache.bind(this)))},callbacks:{enable_triggers_on_table:function(t){e.enableTriggers(n.tree,this.generate_url.bind(this),t)},disable_triggers_on_table:function(t){e.disableTriggers(n.tree,this.generate_url.bind(this),t)},truncate_table:function(e){this.callbacks.truncate.apply(this,[e,{cascade:!1}])},truncate_table_cascade:function(e){this.callbacks.truncate.apply(this,[e,{cascade:!0}])},truncate_table_identity:function(e){this.callbacks.truncate.apply(this,[e,{identity:!0}])},truncate:function(e,a){var r=e||{},i=this,c=n.tree,l=r.item||c.selected(),d=l?c.itemData(l):void 0;if(!d)return!1;o.Browser.notifier.confirm(t("Truncate Table"),t("Are you sure you want to truncate table %s?",d.label),(function(){var e=d;(0,s.default)().put(i.generate_url(l,"truncate",d,!0),a).then((function(t){var a=t.data;1==a.success&&(o.Browser.notifier.success(a.info),c.removeIcon(l),e.icon=e.is_partitioned?"icon-partition":"icon-table",c.addIcon(l,{icon:e.icon}),c.updateAndReselectNode(l,e)),2==a.success&&o.Browser.notifier.error(a.info)})).catch((function(e){o.Browser.notifier.pgRespErrorNotify(e),c.refresh(l)}))}),(function(){}))},reset_table_stats:function(e){var a=e||{},r=this,i=n.tree,c=a.item||i.selected(),l=c?i.itemData(c):void 0;if(!l)return!1;o.Browser.notifier.confirm(t("Reset statistics"),t('Are you sure you want to reset the statistics for table "%s"?',l._label),(function(){var e=l;(0,s.default)().delete(r.generate_url(c,"reset",l,!0)).then((function(t){var a=t.data;1==a.success&&(o.Browser.notifier.success(a.info),i.removeIcon(c),e.icon=e.is_partitioned?"icon-partition":"icon-table",i.addIcon(c,{icon:e.icon}),i.updateAndReselectNode(c,l))})).catch((function(e){o.Browser.notifier.pgRespErrorNotify(e),i.refresh(c)}))}),(function(){}))},count_table_rows:function(e){var t=e||{},a=n.tree,r=t.item||a.selected(),i=r?a.itemData(r):void 0;if(!i)return!1;var c=p(p({},i),{},{_type:this.type});(0,s.default)().get(this.generate_url(r,"count_rows",c,!0)).then((function(e){var t=e.data;o.Browser.notifier.success(t.info,null),i.rows_cnt=t.data.total_rows,a.updateAndReselectNode(r,i)})).catch((function(e){o.Browser.notifier.pgRespErrorNotify(e),a.refresh(r)}))},generate_erd:function(e){var t=e||{},a=n.tree,r=t.item||a.selected(),i=r?a.itemData(r):void 0;o.Tools.ERD.showErdTool(i,r,!0)}},getSchema:function(e,t){return(0,c.getNodeTableSchema)(e,t,n)},canCreate_with_trigger_enable:function(e){return e.tigger_count>0&&(0==e.has_enable_triggers||e.has_enable_triggers<e.tigger_count)},canCreate_with_trigger_disable:function(e){return e.tigger_count>0&&e.has_enable_triggers>0},onTableUpdated:function(e,t,a){var r,i;if(a.is_partitioned&&"affected_partitions"in a){var c,s=a.affected_partitions,d=[],p=[];if("detached"in s&&s.detached.length>0){n.removeChildTreeNodesById(e,"coll-partition",l.default.map(s.detached,(function(e){return parseInt(e.oid)}))),c=n.findParentTreeNodeByType(e,"schema");var u=l.default.groupBy(s.detached,(function(e){return parseInt(e.schema_id)}));for(r in u)if(c=n.findSiblingTreeNode(c,r)){i=l.default.map(u[r],(function(e){return parseInt(e.oid)}));var _=n.findChildCollectionTreeNode(c,"coll-table");_&&p.push({parent:_,type:"table",treeHierarchy:o.Browser.tree.getTreeNodeHierarchy(c),childrenIDs:l.default.clone(i)})}}if("attached"in s&&s.attached.length>0){c=n.findParentTreeNodeByType(e,"schema");var h=l.default.groupBy(s.attached,(function(e){return parseInt(e.schema_id)}));for(r in h)(c=n.findSiblingTreeNode(c,r))&&(i=l.default.map(h[r],(function(e){return parseInt(e.oid)})),n.removeChildTreeNodesById(c,"coll-table",i)),d=d.concat(i)}if("created"in s&&s.created.length>0&&l.default.each(s.created,(function(e){d.push(e.oid)})),d.length){var m=n.findChildCollectionTreeNode(e,"coll-partition");m&&p.push({parent:m,type:"partition",treeHierarchy:o.Browser.tree.getTreeNodeHierarchy(e),childrenIDs:d})}!function e(){if(p.length){var t=p.pop();n.addChildTreeNodes(t.treeHierarchy,t.parent,t.type,t.childrenIDs,e)}}()}},handle_cache:function(){this.clear_cache.apply(this,null)}})),n.Nodes.table}.apply(t,o))||(e.exports=n)},88607:(e,t,a)=>{var o,n,r=a(64836),i=a(37331),c=r(a(23100)),l=r(a(96486)),s=r(a(16969));o=[a(97282),a(66377),a(75888),a(61105),a(73464),a(77257)],void 0===(n=function(e,t,a,o,n){return o.Nodes["coll-trigger"]||(a.Browser.Nodes["coll-trigger"]=a.Browser.Collection.extend({node:"trigger",label:e("Triggers"),type:"coll-trigger",columns:["name","description"],canDrop:n.isTreeItemOfChildOfSchema,canDropCascade:n.isTreeItemOfChildOfSchema})),o.Nodes.trigger||(a.Browser.Nodes.trigger=o.Node.extend({parent_type:["table","view","partition","foreign_table"],collection_type:["coll-table","coll-view","coll-foreign_table"],type:"trigger",label:e("Trigger"),hasSQL:!0,hasDepends:!0,width:o.stdW.sm+"px",sqlAlterHelp:"sql-altertrigger.html",sqlCreateHelp:"sql-createtrigger.html",dialogHelp:t("help.static",{filename:"trigger_dialog.html"}),url_jump_after_node:"schema",Init:function(){this.initialized||(this.initialized=!0,o.add_menus([{name:"create_trigger_on_coll",node:"coll-trigger",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Trigger..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"create_trigger",node:"trigger",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Trigger..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"create_trigger_onTable",node:"table",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Trigger..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"create_trigger_onPartition",node:"partition",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Trigger..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"enable_trigger",node:"trigger",module:this,applies:["object","context"],callback:"enable_trigger",category:"connect",priority:3,label:e("Enable"),enable:"canCreate_with_trigger_enable"},{name:"disable_trigger",node:"trigger",module:this,applies:["object","context"],callback:"disable_trigger",category:"drop",priority:3,label:e("Disable"),enable:"canCreate_with_trigger_disable"},{name:"create_trigger_onView",node:"view",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Trigger..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"create_trigger_onForeignTable",node:"foreign_table",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:3,label:e("Trigger..."),data:{action:"create",check:!0},enable:"canCreate"}]))},callbacks:{enable_trigger:function(e){var t=e||{},n=o.tree,r=t.item||n.selected(),i=r?n.itemData(r):void 0;if(!i)return!1;var c=i;(0,s.default)().put(this.generate_url(r,"enable",i,!0),{is_enable_trigger:"O"}).then((function(e){var t=e.data;1==t.success&&(a.Browser.notifier.success(t.info),n.removeIcon(r),c.icon="icon-trigger",c.has_enable_triggers=t.data.has_enable_triggers,n.addIcon(r,{icon:c.icon}),n.updateAndReselectNode(r,c))})).catch((function(e){a.Browser.notifier.pgRespErrorNotify(e),n.refresh(r)}))},disable_trigger:function(e){var t=e||{},n=o.tree,r=t.item||n.selected(),i=r?n.itemData(r):void 0;if(!i)return!1;var c=i;(0,s.default)().put(this.generate_url(r,"enable",i,!0),{is_enable_trigger:"D"}).then((function(e){var t=e.data;1==t.success&&(a.Browser.notifier.success(t.info),n.removeIcon(r),c.icon="icon-trigger-bad",c.has_enable_triggers=t.data.has_enable_triggers,n.addIcon(r,{icon:c.icon}),n.updateAndReselectNode(r,c))})).catch((function(e){a.Browser.notifier.pgRespErrorNotify(e),n.refresh(r)}))}},canDrop:n.isTreeItemOfChildOfSchema,canDropCascade:n.isTreeItemOfChildOfSchema,getSchema:function(e,t){var a=this;return new c.default({triggerFunction:function(){return(0,i.getNodeAjaxOptions)("get_triggerfunctions",a,e,t,{cacheLevel:"trigger_function",jumpAfterNode:"schema"},(function(e){return l.default.reject(e,(function(e){return""==e.label}))}))},columns:function(){return(0,i.getNodeListByName)("column",e,t,{cacheLevel:"column"})},nodeInfo:e})},canCreate:n.isTreeItemOfChildOfSchema,canCreate_with_trigger_enable:function(e,t,a){return!("view"in o.tree.getTreeNodeHierarchy(t))&&("icon-trigger-bad"===e.icon&&this.canCreate.apply(this,[e,t,a]))},canCreate_with_trigger_disable:function(e,t,a){return!("view"in o.tree.getTreeNodeHierarchy(t))&&("icon-trigger"===e.icon&&this.canCreate.apply(this,[e,t,a]))}})),o.Nodes.trigger}.apply(t,o))||(e.exports=n)},62007:(e,t,a)=>{var o,n;a(66992),a(41539),a(78783),a(4129),a(33948),a(69070),a(38880);var r=a(18698);a(68309);var i=a(37331),c=a(82691),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var a=s(t);if(a&&a.has(e))return a.get(e);var o={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=n?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(o,i,c):o[i]=e[i]}return o.default=e,a&&a.set(e,o),o}(a(40185));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(s=function(e){return e?a:t})(e)}o=[a(97282),a(66377),a(75888),a(61105),a(82244),a(73464),a(77257)],void 0===(n=function(e,t,a,o,n,r){return o.Nodes["coll-type"]||(o.Nodes["coll-type"]=o.Collection.extend({node:"type",label:e("Types"),type:"coll-type",columns:["name","typeowner","description"],canDrop:r.isTreeItemOfChildOfSchema,canDropCascade:r.isTreeItemOfChildOfSchema})),o.Nodes.type||(o.Nodes.type=n.SchemaChildNode.extend({type:"type",sqlAlterHelp:"sql-altertype.html",sqlCreateHelp:"sql-createtype.html",dialogHelp:t("help.static",{filename:"type_dialog.html"}),label:e("Type"),collection_type:"coll-type",hasSQL:!0,hasDepends:!0,width:o.stdW.md+"px",Init:function(){this.initialized||(this.initialized=!0,o.add_menus([{name:"create_type_on_coll",node:"coll-type",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Type..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"create_type",node:"type",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Type..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"create_type",node:"schema",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Type..."),data:{action:"create",check:!1},enable:"canCreate"}]))},ext_funcs:void 0,getSchema:function(e,t){var n=a.Browser.Nodes.type;return new l.default((function(a){return(0,c.getNodePrivilegeRoleSchema)(n,e,t,a)}),(function(){return(0,l.getCompositeSchema)(n,e,t)}),(function(){return(0,l.getRangeSchema)(n,e,t)}),(function(){return(0,l.getExternalSchema)(n,e,t)}),(function(){return(0,l.getDataTypeSchema)(n,e,t)}),{roles:function(){return(0,i.getNodeListByName)("role",e,t,{cacheLevel:"database"})},schemas:function(){return(0,i.getNodeListByName)("schema",e,t,{cacheLevel:"database"})},server_info:o.serverInfo[e.server._id],node_info:e},{typeowner:o.serverInfo[e.server._id].user.name,schema:"catalog"in e?e.catalog.label:e.schema.label,typtype:"c"})}})),o.Nodes.type}.apply(t,o))||(e.exports=n)},8946:(e,t,a)=>{var o,n,r=a(64836);a(68309);var i=r(a(26984)),c=a(37331),l=a(82691),s=a(64463),d=r(a(96486)),p=r(a(16969));o=[a(97282),a(66377),a(75888),a(61105),a(82244),a(73464),a(44749)],void 0===(n=function(e,t,a,o,n,r,u){return o.Nodes["coll-mview"]||(o.Nodes["coll-mview"]=o.Collection.extend({node:"mview",label:e("Materialized Views"),type:"coll-mview",columns:["name","owner","comment"],hasStatistics:!0,statsPrettifyFields:[e("Total Size")],canDrop:r.isTreeItemOfChildOfSchema,canDropCascade:r.isTreeItemOfChildOfSchema})),o.Nodes.mview||(o.Nodes.mview=n.SchemaChildNode.extend({type:"mview",sqlAlterHelp:"sql-altermaterializedview.html",sqlCreateHelp:"sql-creatematerializedview.html",dialogHelp:t("help.static",{filename:"materialized_view_dialog.html"}),label:e("Materialized View"),hasSQL:!0,hasDepends:!0,hasStatistics:!0,statsPrettifyFields:[e("Total Size"),e("Indexes size"),e("Table size"),e("TOAST table size"),e("Tuple length"),e("Dead tuple length"),e("Free space")],hasScriptTypes:["create","select"],collection_type:"coll-mview",width:o.stdW.md+"px",Init:function(){this.initialized||(this.initialized=!0,a.Browser.add_menu_category("refresh_mview",e("Refresh View"),18,""),o.add_menus([{name:"create_mview_on_coll",node:"coll-mview",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:1,data:{action:"create",check:!0},enable:"canCreate",label:e("Materialized View...")},{name:"create_mview",node:"mview",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:1,data:{action:"create",check:!0},enable:"canCreate",label:e("Materialized View...")},{name:"create_mview",node:"schema",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:18,data:{action:"create",check:!1},enable:"canCreate",label:e("Materialized View...")},{name:"refresh_mview_data",node:"mview",module:this,priority:1,callback:"refresh_mview",category:"refresh_mview",applies:["object","context"],label:e("With data"),data:{concurrent:!1,with_data:!0}},{name:"refresh_mview_nodata",node:"mview",callback:"refresh_mview",priority:2,module:this,category:"refresh_mview",applies:["object","context"],label:e("With no data"),data:{concurrent:!1,with_data:!1}},{name:"refresh_mview_concurrent",node:"mview",module:this,category:"refresh_mview",enable:"is_version_supported",data:{concurrent:!0,with_data:!0},priority:3,applies:["object","context"],callback:"refresh_mview",label:e("With data (concurrently)")},{name:"refresh_mview_concurrent_nodata",node:"mview",module:this,category:"refresh_mview",enable:"is_version_supported",data:{concurrent:!0,with_data:!1},priority:4,applies:["object","context"],callback:"refresh_mview",label:e("With no data (concurrently)")}]))},getSchema:function(e,t){var a=this;return new i.default((function(a){return(0,l.getNodePrivilegeRoleSchema)("",e,t,a)}),(function(){return(0,s.getNodeVacuumSettingsSchema)(a,e,t)}),{role:function(){return(0,c.getNodeListByName)("role",e,t)},schema:function(){return(0,c.getNodeListByName)("schema",e,t,{cacheLevel:"database"})},spcname:function(){return(0,c.getNodeListByName)("tablespace",e,t,{},(function(e){return"pg_global"!=e.label}))},table_amname_list:function(){return(0,c.getNodeAjaxOptions)("get_access_methods",a,e,t)},nodeInfo:e},{owner:o.serverInfo[e.server._id].user.name,schema:"schema"in e?e.schema.label:""})},refresh_mview:function(t){var n=t||{},r=this,i=o.tree,c=n.item||i.selected(),l=c?i.itemData(c):void 0,s=null;if(!l)return!1;for(var d=c;d;){var _=o.tree.itemData(d);if("server"==_._type){s=_;break}if(!o.tree.hasParent(d)){a.Browser.notifier.alert(e("Please select server or child node from tree."));break}d=o.tree.parent(d)}if(s&&u.hasBinariesConfiguration(o,s)){var h=(0,p.default)();h.get(r.generate_url(c,"check_utility_exists",l,!0)).then((function(n){var i=n.data;i.success?h.put(r.generate_url(c,"refresh_data",l,!0),{concurrent:t.concurrent,with_data:t.with_data}).then((function(t){var n=t.data;n.data&&n.data.status?o.BgProcessManager.startProcess(n.data.job_id,n.data.desc):a.Browser.notifier.alert(e("Failed to create materialized view refresh job."),n.errormsg)})).catch((function(t){a.Browser.notifier.pgRespErrorNotify(t,e("Failed to create materialized view refresh job."))})):a.Browser.notifier.alert(e("Utility not found"),i.errormsg)})).catch((function(){a.Browser.notifier.alert(e("Utility not found"),e("Failed to fetch Utility information"))}))}},is_version_supported:function(e,t){var o=a.Browser.tree,n=t||o.selected(),r=o&&o.getTreeNodeHierarchy(n);return(d.default.isUndefined(r)?0:r.server.version)>=90400}})),o.Nodes.mview}.apply(t,o))||(e.exports=n)},51557:(e,t,a)=>{var o,n,r=a(64836);a(68309);var i=a(37331),c=a(82691),l=r(a(87777));o=[a(97282),a(66377),a(61105),a(82244),a(73464),a(83110)],void 0===(n=function(e,t,a,o,n){return a.Nodes["coll-view"]||(a.Nodes["coll-view"]=a.Collection.extend({node:"view",label:e("Views"),type:"coll-view",columns:["name","owner","comment"],canDrop:n.isTreeItemOfChildOfSchema,canDropCascade:n.isTreeItemOfChildOfSchema})),a.Nodes.view||(a.Nodes.view=o.SchemaChildNode.extend({type:"view",sqlAlterHelp:"sql-alterview.html",sqlCreateHelp:"sql-createview.html",dialogHelp:t("help.static",{filename:"view_dialog.html"}),label:e("View"),hasSQL:!0,hasDepends:!0,hasScriptTypes:["create","select","insert"],collection_type:"coll-view",Init:function(){this.initialized||(this.initialized=!0,a.add_menus([{name:"create_view_on_coll",node:"coll-view",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:1,label:e("View..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"create_view",node:"view",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:1,label:e("View..."),data:{action:"create",check:!0},enable:"canCreate"},{name:"create_view",node:"schema",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:17,label:e("View..."),data:{action:"create",check:!1},enable:"canCreate"}]))},getSchema:function(e,t){return new l.default((function(a){return(0,c.getNodePrivilegeRoleSchema)("",e,t,a)}),e,{role:function(){return(0,i.getNodeListByName)("role",e,t)},schema:function(){return(0,i.getNodeListByName)("schema",e,t,{cacheLevel:"database"})}},{owner:a.serverInfo[e.server._id].user.name,schema:e.schema?e.schema.label:""})}})),a.Nodes.view}.apply(t,o))||(e.exports=n)},91548:(e,t,a)=>{var o,n;a(66992),a(41539),a(78783),a(4129),a(33948),a(69070),a(38880);var r=a(64836),i=a(18698);a(92222),a(32564),a(68309),a(74916),a(64765);var c=a(37331),l=a(82691),s=a(57275),d=r(a(86627)),p=a(76458),u=r(a(96486)),_=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=i(e)&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var o={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var c=n?Object.getOwnPropertyDescriptor(e,r):null;c&&(c.get||c.set)?Object.defineProperty(o,r,c):o[r]=e[r]}return o.default=e,a&&a.set(e,o),o}(a(16969));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}o=[a(97282),a(66377),a(75888),a(7027),a(21195),a(77257)],void 0===(n=function(e,t,a,o,n){function r(e,t){var a=o.tree.getTreeNodeHierarchy(t).server;return(!!u.default.isUndefined(null==e?void 0:e.canDisconn)||e.canDisconn)&&a&&a.version>=13e4}if(o.Nodes["coll-database"]||(o.Nodes["coll-database"]=o.Collection.extend({node:"database",label:e("Databases"),type:"coll-database",columns:["name","datowner","comments"],hasStatistics:!0,canDrop:!0,selectParentNodeOnDelete:!0,canDropCascade:!1,canDropForce:r,statsPrettifyFields:[e("Size"),e("Size of temporary files")]})),!o.Nodes.database){o.Nodes.database=o.Node.extend({parent_type:"server",type:"database",sqlAlterHelp:"sql-alterdatabase.html",sqlCreateHelp:"sql-createdatabase.html",dialogHelp:t("help.static",{filename:"database_dialog.html"}),hasSQL:!0,hasDepends:!0,hasStatistics:!0,statsPrettifyFields:[e("Size"),e("Size of temporary files")],canDrop:function(e){return e.canDrop},selectParentNodeOnDelete:!0,label:e("Database"),node_image:function(){return"pg-icon-database"},width:"700px",Init:function(){this.initialized||(this.initialized=!0,o.add_menus([{name:"create_database_on_server",node:"server",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Database..."),data:{action:"create"},enable:"can_create_database"},{name:"create_database_on_coll",node:"coll-database",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Database..."),data:{action:"create"},enable:"can_create_database"},{name:"create_database",node:"database",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Database..."),data:{action:"create"},enable:"can_create_database"},{name:"connect_database",node:"database",module:this,applies:["object","context"],callback:"connect_database",category:"connect",priority:4,label:e("Connect Database"),enable:"is_not_connected",data:{data_disabled:e("Selected database is already connected.")}},{name:"delete_database_force",node:"database",module:this,applies:["object","context"],callback:"delete_database_force",category:"delete",priority:2,label:e("Delete (Force)"),enable:r},{name:"disconnect_database",node:"database",module:this,applies:["object","context"],callback:"disconnect_database",category:"disconnect",priority:5,label:e("Disconnect from database"),enable:"is_connected",data:{data_disabled:e("Selected database is already disconnected.")}},{name:"generate_erd",node:"database",module:this,applies:["object","context"],callback:"generate_erd",category:"erd",priority:5,label:e("ERD For Database"),enable:function(e){return e.allowConn}}]),u.default.bindAll(this,"connection_lost"),o.Events.on("pgadmin:database:connection:lost",this.connection_lost))},can_create_database:function(e,t){var a=o.tree.getTreeNodeHierarchy(t).server;return a.connected&&a.user.can_create_db},canCreate:function(e,t){var a=o.tree.getTreeNodeHierarchy(t).server;return a&&a.version>=1e5},is_not_connected:function(e){return e&&!e.connected&&e.allowConn},is_connected:function(e){return e&&e.connected&&e.canDisconn},is_psql_enabled:function(e){return e&&e.connected&&a.enable_psql},is_conn_allow:function(e){return e&&e.allowConn},connection_lost:function(t,n,r){if(o.tree){for(var i=o.tree,c=t&&i.itemData(t),l=this;c&&"database"!=c._type;)t=i.parent(t),c=t&&i.itemData(t);if(t&&c){if(!c.allowConn)return!1;if(u.default.isUndefined(c.is_connecting)||!c.is_connecting){c.is_connecting=!0;if(o.Events.on("pgadmin:database:connect:cancelled",(function e(t,a){a._id==this._id&&(c.is_connecting=!1,o.Events.off("pgadmin:database:connect:cancelled",e),a=(t=t&&i.parent(t))&&i.itemData(t),t&&a&&o.Events.trigger("pgadmin:server:disconnect",{item:t,data:a},!1))})),r)return void m(l,c,i,t,!0);a.Browser.notifier.confirm(e("Connection lost"),e("Would you like to reconnect to the database?"),(function(){m(l,c,i,t,!0)}),(function(){c.is_connecting=!1;var e=c.isTemplate?"icon-database-template-not-connected":"icon-database-not-connected";i.addIcon(t,{icon:e}),i.updateAndReselectNode(t,c),o.Events.trigger("pgadmin:database:connect:cancelled",t,c,l)}))}}}},callbacks:{connect_database:function(e){var t=e||{},a=o.tree,n=t.item||a.selected(),r=n?a.itemData(n):void 0;return r&&"template0"!=r.label&&h(this,r,a,n,!0),!1},disconnect_database:function(t){var n=t||{},r=this,i=o.tree,c=n.item||i.selected(),l=c?i.itemData(c):void 0;return l&&a.Browser.notifier.confirm(e("Disconnect from database"),e("Are you sure you want to disconnect from database - %s?",l.label),(function(){var e=l;(0,_.default)().delete(r.generate_url(c,"connect",l,!0)).then((function(t){var n=t.data;if(1==n.success){var r=i.parent(c);n.data.info_prefix&&(n.info="".concat(u.default.escape(n.data.info_prefix)," - ").concat(n.info)),a.Browser.notifier.success(n.info),i.removeIcon(c),e.connected=!1,e.icon=e.isTemplate?"icon-database-template-not-connected":"icon-database-not-connected",i.addIcon(c,{icon:e.icon}),i.unload(c),o.Events.trigger("pgadmin:browser:tree:update-tree-state",c),setTimeout((function(){i.select(r)}),10)}else{try{a.Browser.notifier.error(n.errormsg)}catch(e){console.warn(e.stack||e)}i.unload(c)}})).catch((function(e){a.Browser.notifier.pgRespErrorNotify(e),i.unload(c)}))}),(function(){return!0})),!1},generate_erd:function(e){var t=e||{},n=o.tree,r=t.item||n.selected(),i=r?n.itemData(r):void 0;a.Tools.ERD.showErdTool(i,r,!0)},beforeopen:function(e,t){return!(!t||"database"!=t._type||"template0"==t.label)&&(o.tree.addIcon(e,{icon:t.icon}),!(!t.connected&&t.allowConn&&!t.is_connecting)||(t.is_connecting=!0,h(this,t,o.tree,e,!0),!1))},selected:function(e,t){return!(!t||"database"!=t._type)&&(o.tree.addIcon(e,{icon:t.icon}),t.connected||!t.allowConn||t.is_connecting||(t.is_connecting=!0,h(this,t,o.tree,e,!1)),t.connected?o.Node.callbacks.selected.apply(this,arguments):void 0)},refresh:function(e,t){var a=o.tree,n=t||a.selected();a.itemData(n).allowConn&&o.Node.callbacks.refresh.apply(this,arguments)},delete_database_force:function(e,t){o.Node.callbacks.delete_obj.apply(this,[{url:"delete"},t])}},getSchema:function(e,t){var a=this,n=function(){return(0,c.getNodeAjaxOptions)("get_ctypes",a,e,t,{cacheLevel:"server"})};return new d.default((function(){return(0,s.getNodeVariableSchema)(a,e,t,!1,!0)}),(function(o){return(0,l.getNodePrivilegeRoleSchema)(a,e,t,o)}),{role:function(){return(0,c.getNodeListByName)("role",e,t)},encoding:function(){return(0,c.getNodeAjaxOptions)("get_encodings",a,e,t,{cacheLevel:"server"})},template:function(){return(0,c.getNodeAjaxOptions)("get_databases",a,e,t,{cacheLevel:"server"},(function(e){var t=[];return e&&u.default.isArray(e)&&u.default.each(e,(function(e){t.push({label:e,value:e,image:"pg-icon-database"})})),t}))},spcname:function(){return(0,c.getNodeListByName)("tablespace",e,t,{},(function(e){return"pg_global"!=e.label}))},datcollate:n,datctype:n,daticulocale:function(){return(0,c.getNodeAjaxOptions)("get_icu_locale",a,e,t,{cacheLevel:"server"})}},{datowner:o.serverInfo[e.server._id].user.name})}}),o.SecurityGroupSchema={id:"security",label:e("Security"),type:"group",visible:function(e){return!e||!("node_info"in e)||!("catalog"in(e.node_info||e.handler.node_info))}};var i=(0,_.default)(),h=function(e,t,a,o,n){m(e,t,a,o,n)},m=function(t,r,c,l,s){var d=s||r.connected,m=function t(o,i,l,d,u,_){var m,g;if(r.is_connecting=!1,200!=(null===(m=o.response)||void 0===m?void 0:m.status)&&-1!==(null===(g=o.response)||void 0===g||null===(g=g.request)||void 0===g||null===(g=g.responseText)||void 0===g?void 0:g.search("Ticket expired"))){c.addIcon(u,{icon:"icon-server-connecting"}),n.fetch_ticket().then((function(){h(i,l,d,u,s)}),(function(t){c.setInode(u);var n=r.isTemplate?"icon-database-template-not-connected":"icon-database-not-connected";c.addIcon(u,{icon:n}),a.Browser.notifier.pgNotifier(t,o,e("Connect to database."))}))}else{if(!_){c.setInode(u);var y=r.isTemplate?"icon-database-template-not-connected":"icon-database-not-connected";c.addIcon(u,{icon:y})}a.Browser.notifier.pgNotifier("error",o,"Error",(function(a){setTimeout((function(){"CRYPTKEY_SET"==a?h(i,l,d,u,s):(0,p.showServerPassword)(e("Connect to database"),a,i,l,d,u,_,f,t,b)}),100)}))}},f=function(t,n,r,i,c,l){if(r.is_connecting=!1,t&&t.data){if("boolean"==typeof t.data.connected&&(r.connected=t.data.connected),"string"==typeof t.data.icon){i.removeIcon(c),r.icon=t.data.icon;var s=r.isTemplate?"icon-database-template-connected":r.icon;i.addIcon(c,{icon:s})}t.data.already_connected&&(t.info=e("Database already connected.")),t.data.info_prefix&&(t.info="".concat(u.default.escape(t.data.info_prefix)," - ").concat(t.info)),t.data.already_connected?a.Browser.notifier.info(t.info):a.Browser.notifier.success(t.info),o.Events.trigger("pgadmin:database:connected",c,r),o.enable_disable_menus.apply(o,[c]),o.Nodes.database.callbacks.selected(c,r),l||setTimeout((function(){i.select(c),i.open(c)}),10)}},b=function(e,a,n){n.is_connecting=!1;var i=e.parent(a);e.removeIcon(a);var c=r.isTemplate?"icon-database-template-not-connected":"icon-database-not-connected";e.addIcon(a,{icon:c}),e.updateAndReselectNode(a,n),t.trigger("connect:cancelled",t,a,n),o.Events.trigger("pgadmin:database:connect:cancelled",a,n,t),e.select(i)};i.post(t.generate_url(l,"connect",r,!0)).then((function(e){var a=e.data;if(1==a.success)return f(a,t,r,c,l,d)})).catch((function(a){var o;return 410===(null===(o=a.response)||void 0===o?void 0:o.status)&&(a=e("Error: Object not found - %s.",(0,_.parseApiError)(a))),m(a,t,r,c,l,d)}))}}return o.Nodes["coll-database"]}.apply(t,o))||(e.exports=n)},84580:(e,t,a)=>{var o,n,r=a(64836);a(41539),a(88674),a(68309);var i=a(37331),c=r(a(13202)),l=r(a(16969)),s=r(a(96486)),d=r(a(75888));o=[a(97282),a(66377),a(61105),a(77257)],void 0===(n=function(e,t,a){return a.Nodes["coll-subscription"]||(a.Nodes["coll-subscription"]=a.Collection.extend({node:"subscription",label:e("Subscriptions"),type:"coll-subscription",columns:["name","subowner","proppub","enabled"],hasStatistics:!0})),a.Nodes.subscription||(a.Nodes.subscription=a.Node.extend({parent_type:"database",type:"subscription",sqlAlterHelp:"sql-altersubscription.html",sqlCreateHelp:"sql-createsubscription.html",dialogHelp:t("help.static",{filename:"subscription_dialog.html"}),label:e("Subscription"),hasSQL:!0,canDrop:!0,canDropCascade:!0,hasDepends:!0,hasStatistics:!0,width:"501px",Init:function(){this.initialized||(this.initialized=!0,a.add_menus([{name:"create_subscription_on_database",node:"database",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Subscription..."),data:{action:"create"},enable:a.Nodes.database.canCreate},{name:"create_subscription_on_coll",node:"coll-subscription",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Subscription..."),data:{action:"create"},enable:"canCreate"},{name:"create_subscription",node:"subscription",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Subscription..."),data:{action:"create"},enable:"canCreate"}]))},getSchema:function(t,o){return new c.default({role:function(){return(0,i.getNodeListByName)("role",t,o)},getPublication:function(n,r,i,c,p,u,_,h,m,f,b,g,y){return new Promise((function(v,w){var N=(0,l.default)();if(null!=n&&null!=i&&null!=c&&null!=p){var x=a.Nodes.cast.generate_url.apply(a.Nodes.subscription,[null,"get_publications",o,!1,t]);N.get(x,{params:{host:n,password:r,port:i,username:c,db:p,connectTimeout:u,passfile:_,sslmode:h,sslcompression:m,sslcert:f,sslkey:b,sslrootcert:g,sslcrl:y}}).then((function(t){""!==t.data.errormsg||s.default.isNull(t.data.data)?!s.default.isNull(t.data.errormsg)&&s.default.isNull(t.data.data)&&(w(t.data.errormsg),d.default.Browser.notifier.alert(e("Check connection?"),e(t.data.errormsg))):(v(t.data.data),d.default.Browser.notifier.info(e("Publication fetched successfully.")))})).catch((function(e){w(e)}))}}))}},{node_info:t.server},{subowner:a.serverInfo[t.server._id].user.name})}})),a.Nodes["coll-subscription"]}.apply(t,o))||(e.exports=n)},58779:(e,t,a)=>{var o,n,r=a(64836)(a(89673));o=[a(97282),a(66377),a(61105),a(77257)],void 0===(n=function(e,t,a){return a.Nodes["coll-resource_group"]||(a.Nodes["coll-resource_group"]=a.Collection.extend({node:"resource_group",label:e("Resource Groups"),type:"coll-resource_group",columns:["name","cpu_rate_limit","dirty_rate_limit"],canDrop:!0,canDropCascade:!1})),a.Nodes.resource_group||(a.Nodes.resource_group=a.Node.extend({parent_type:"server",type:"resource_group",epasHelp:!0,dialogHelp:t("help.static",{filename:"resource_group_dialog.html"}),label:e("Resource Group"),hasSQL:!0,canDrop:!0,Init:function(){this.initialized||(this.initialized=!0,a.add_menus([{name:"create_resourcegroup_on_server",node:"server",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Resource Group..."),data:{action:"create",data_disabled:e("This option is only available on EPAS servers.")},enable:function(e,t){return a.tree.getTreeNodeHierarchy(t).server.connected&&"ppas"===e.server_type&&e.version>=90400}},{name:"create_resource_group_on_coll",node:"coll-resource_group",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Resource Group..."),data:{action:"create",data_disabled:e("This option is only available on EPAS servers.")}},{name:"create_resource_group",node:"resource_group",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Resource Group..."),data:{action:"create",data_disabled:e("This option is only available on EPAS servers.")}}]))},getSchema:function(){return new r.default}})),a.Nodes["coll-resource_group"]}.apply(t,o))||(e.exports=n)},29318:(e,t,a)=>{var o,n,r=a(64836)(a(52436)),i=a(57275),c=a(37331),l=a(23925),s=a(36361);o=[a(97282),a(66377),a(75888),a(61105)],void 0===(n=function(e,t,a,o){return o.Nodes["coll-role"]||(a.Browser.Nodes["coll-role"]=a.Browser.Collection.extend({node:"role",label:e("Login/Group Roles"),type:"coll-role",columns:["rolname","rolvaliduntil","rolconnlimit","rolcanlogin","rolsuper","rolcreaterole","rolcreatedb","rolcatupdate","rolinherit","rolreplication"],canDrop:!0,canDropCascade:!1})),o.Nodes.role||(a.Browser.Nodes.role=a.Browser.Node.extend({parent_type:"server",type:"role",sqlAlterHelp:"sql-alterrole.html",sqlCreateHelp:"sql-createrole.html",dialogHelp:t("help.static",{filename:"role_dialog.html"}),label:e("Login/Group Role"),hasSQL:!0,width:"550px",canDrop:function(e,t){var a=o.tree.getTreeNodeHierarchy(t).server;return e.is_superuser?a.connected&&a.user.is_superuser:a.connected&&a.user.can_create_role},hasDepends:!0,node_label:function(e){return e.label},node_image:function(e){return e?e.can_login?"icon-role":"icon-group":"icon-role"},title:function(t){return t?t.can_login?e("Login Role")+" - "+t.label:e("Group Role")+" - "+t.label:this.label},Init:function(){this.initialized||(this.initialized=!0,o.add_menus([{name:"create_role_on_server",node:"server",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Login/Group Role..."),data:{action:"create"},enable:"can_create_role"},{name:"create_role_on_roles",node:"coll-role",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Login/Group Role..."),data:{action:"create"},enable:"can_create_role"},{name:"create_role",node:"role",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Login/Group Role..."),data:{action:"create"},enable:"can_create_role"},{name:"reassign_role",node:"role",module:this,applies:["object","context"],callback:"reassign_role",category:"role",priority:5,label:e("Reassign/Drop Owned..."),enable:"can_reassign_role"}]))},can_create_role:function(e,t){var a=o.tree.getTreeNodeHierarchy(t).server;return a.connected&&a.user.can_create_role},can_reassign_role:function(e,t){return o.tree.getTreeNodeHierarchy(t).server.connected&&e.can_login},reassign_role:function(){(0,s.showRoleReassign)()},getSchema:function(e,t){var a=this;return new r.default((function(){return(0,i.getNodeVariableSchema)(a,e,t,!0,!1)}),(function(){return(0,l.getMembershipSchema)(a,e,t)}),{role:function(){return(0,c.getNodeListByName)("role",e,t)},nodeInfo:e})}})),o.Nodes.role}.apply(t,o))||(e.exports=n)},5554:(e,t,a)=>{var o,n;a(66992),a(41539),a(78783),a(4129),a(33948),a(69070),a(38880);var r=a(64836),i=a(18698);a(32564),a(74916),a(64765);var c=a(37331),l=r(a(82536)),s=a(76458),d=r(a(96486)),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=i(e)&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var o={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var c=n?Object.getOwnPropertyDescriptor(e,r):null;c&&(c.get||c.set)?Object.defineProperty(o,r,c):o[r]=e[r]}return o.default=e,a&&a.set(e,o),o}(a(16969));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}o=[a(97282),a(66377),a(75888),a(61105),a(93584),a(21195)],void 0===(n=function(e,t,a,o,n,r){if(!o.Nodes.server){a.Browser.Nodes.server=a.Browser.Node.extend({parent_type:"server_group",type:"server",dialogHelp:t("help.static",{filename:"server_dialog.html"}),label:e("Server"),width:o.stdW.md+"px",canDrop:function(e){var t=e.user_id;return!(t!=n.id&&!d.default.isUndefined(t))},dropAsRemove:!0,dropPriority:5,hasStatistics:!0,hasCollectiveStatistics:!0,can_expand:function(e){return e&&e.connected},title:function(t,a){var o;return"create"==a?e("Register - %s",this.label):null!==(o=t._label)&&void 0!==o?o:""},Init:function(){this.initialized||(this.initialized=!0,o.add_menus([{name:"create_server_on_sg",node:"server_group",module:this,applies:["object","context"],callback:"show_obj_properties",category:"register",priority:1,label:e("Server..."),data:{action:"create"},enable:"canCreate"},{name:"create_server",node:"server",module:this,applies:["object","context"],callback:"show_obj_properties",category:"register",priority:3,label:e("Server..."),data:{action:"create"},enable:"canCreate"},{name:"connect_server",node:"server",module:this,applies:["object","context"],callback:"connect_server",category:"connect",priority:4,label:e("Connect Server"),enable:"is_not_connected",data:{data_disabled:e("Database server is already connected.")}},{name:"disconnect_server",node:"server",module:this,applies:["object","context"],callback:"disconnect_server",category:"drop",priority:5,label:e("Disconnect from server"),enable:"is_connected",data:{data_disabled:e("Database server is already disconnected.")}},{name:"reload_configuration",node:"server",module:this,applies:["tools","context"],callback:"reload_configuration",category:"reload",priority:10,label:e("Reload Configuration"),enable:"enable_reload_config",data:{data_disabled:e("Please select a server from the object explorer to reload the configuration files.")}},{name:"restore_point",node:"server",module:this,applies:["tools","context"],callback:"restore_point",category:"restore",priority:7,label:e("Add Named Restore Point..."),enable:"is_applicable",data:{data_disabled:e("Please select any server from the object explorer to Add Named Restore Point.")}},{name:"change_password",node:"server",module:this,applies:["object"],callback:"change_password",label:e("Change Password..."),priority:10,enable:"is_connected",data:{data_disabled:e("Please connect server to enable change password.")}},{name:"wal_replay_pause",node:"server",module:this,applies:["tools","context"],callback:"pause_wal_replay",category:"wal_replay_pause",priority:8,label:e("Pause Replay of WAL"),enable:"wal_pause_enabled",data:{data_disabled:e("Please select a connected database as a Super user and run in Recovery mode to Pause Replay of WAL.")}},{name:"wal_replay_resume",node:"server",module:this,applies:["tools","context"],callback:"resume_wal_replay",category:"wal_replay_resume",priority:9,label:e("Resume Replay of WAL"),enable:"wal_resume_enabled",data:{data_disabled:e("Please select a connected database as a Super user and run in Recovery mode to Resume Replay of WAL.")}},{name:"clear_saved_password",node:"server",module:this,applies:["object","context"],callback:"clear_saved_password",label:e("Clear Saved Password"),priority:11,enable:function(e){return e&&"server"===e._type&&e.is_password_saved}},{name:"clear_sshtunnel_password",node:"server",module:this,applies:["object","context"],callback:"clear_sshtunnel_password",label:e("Clear SSH Tunnel Password"),priority:12,enable:function(e){return e&&"server"===e._type&&e.is_tunnel_password_saved},data:{data_disabled:e("SSH Tunnel password is not saved for selected server.")}}]),d.default.bindAll(this,"connection_lost"),o.Events.on("pgadmin:server:connection:lost",this.connection_lost))},is_not_connected:function(e){return e&&!e.connected},canCreate:function(e){var t=e.user_id;return t==n.id||d.default.isUndefined(t)},is_connected:function(e){return e&&e.connected},enable_reload_config:function(e){return e&&"server"==e._type&&e.connected&&e.user.is_superuser},is_applicable:function(e){var t;return e&&"server"==e._type&&e.connected&&e.user.is_superuser&&!(null===(t=e.in_recovery)||void 0===t||t)},wal_pause_enabled:function(e){var t;return e&&"server"==e._type&&e.connected&&e.user.is_superuser&&e.in_recovery&&!(null===(t=e.wal_pause)||void 0===t||t)},wal_resume_enabled:function(e){return e&&"server"==e._type&&e.connected&&e.user.is_superuser&&e.in_recovery&&e.wal_pause},callbacks:{connect_server:function(e){var t=e||{},a=o.tree,n=t.item||a.selected(),r=n?a.itemData(n):void 0;return r&&u(this,r,a,n,!1),!1},disconnect_server:function(t,n){var r=t||{},i=this,c=o.tree,l="item"in r?r.item:c.selected(),s=l?c.itemData(l):void 0;if(s){n=n||d.default.isUndefined(n)||d.default.isNull(n);var u=function(){(0,p.default)().delete(i.generate_url(l,"connect",s,!0)).then((function(e){var t=e.data;if(1==t.success)if(a.Browser.notifier.success(t.info,null),s=c.itemData(l),c.removeIcon(l),s.connected=!1,o.Events.trigger("pgadmin:server:disconnect",{item:l,data:s},!1),s.shared&&"True"==a.server_mode?s.icon="icon-shared-server-not-connected":s.icon="icon-server-not-connected",c.addIcon(l,{icon:s.icon}),i.callbacks.refresh.apply(i,[null,l]),setTimeout((function(){c.close(l)}),10),o.serverInfo&&s._id in o.serverInfo)delete o.serverInfo[s._id];else{try{a.Browser.notifier.error(t.errormsg)}catch(e){console.warn(e.stack||e)}c.unload(l)}})).catch((function(e){a.Browser.notifier.pgRespErrorNotify(e),c.unload(l)}))};n?a.Browser.notifier.confirm(e("Disconnect from server"),e("Are you sure you want to disconnect from the server %s?",s.label),(function(){u()}),(function(){return!0})):u()}return!1},beforeopen:function(e,t){return!(!t||"server"!=t._type)&&(o.tree.addIcon(e,{icon:t.icon}),!!t.connected||(u(this,t,o.tree,e,!1),!1))},added:function(e,t){return o.serverInfo=o.serverInfo||{},o.serverInfo[t._id]=d.default.extend({},t),a.Browser.Node.callbacks.added.apply(this,arguments),i(t.version),t.was_connected&&_(this,t,o.tree,e),!0},reload_configuration:function(t){var n=t||{},r=this,i=o.tree,c=n.item||i.selected(),l=c?i.itemData(c):void 0;return l&&a.Browser.notifier.confirm(e("Reload server configuration"),e("Are you sure you want to reload the server configuration on %s?",l.label),(function(){(0,p.default)().get(r.generate_url(c,"reload",l,!0)).then((function(e){var t=e.data;t.data.status?a.Browser.notifier.success(t.data.result):a.Browser.notifier.error(t.data.result)})).catch((function(e){a.Browser.notifier.pgRespErrorNotify(e),i.unload(c)}))}),(function(){return!0})),!1},restore_point:function(t){var a=t||{},n=o.tree,r=a.item||n.selected(),i=r?n.itemData(r):void 0;if(!i)return!1;(0,s.showNamedRestorePoint)(e("Restore point name"),i,this,r)},change_password:function(t){var n=t||{},r=this,i=o.tree,c=n.item||i.selected(),l=c?i.itemData(c):void 0,d=!1,u=r.generate_url(c,"check_pgpass",l,!0);return l&&(0,p.default)().get(u).then((function(t){var a=t.data;a.success&&a.data.is_pgpass&&(d=!0),(0,s.showChangeServerPassword)(e("Change Password"),l,r,c,d)})).catch((function(e){a.Browser.notifier.pgRespErrorNotify(e)})),!1},on_done:function(e,t,o){1==e.success&&(a.Browser.notifier.success(e.info),t.itemData(o).wal_pause=e.data.wal_pause,t.deselect(o),setTimeout((function(){t.select(o)}),10))},pause_wal_replay:function(e){var t=e||{},n=this,r=o.tree,i=t.item||r.selected(),c=i?r.itemData(i):void 0;if(!c)return!1;(0,p.default)().delete(n.generate_url(i,"wal_replay",c,!0)).then((function(e){var t=e.data;n.callbacks.on_done(t,r,i)})).catch((function(e){a.Browser.notifier.pgRespErrorNotify(e),r.unload(i)}))},resume_wal_replay:function(e){var t=e||{},n=this,r=o.tree,i=t.item||r.selected(),c=i?r.itemData(i):void 0;if(!c)return!1;(0,p.default)().put(n.generate_url(i,"wal_replay",c,!0)).then((function(e){var t=e.data;n.callbacks.on_done(t,r,i)})).catch((function(e){a.Browser.notifier.pgRespErrorNotify(e),r.unload(i)}))},clear_saved_password:function(t){var n=t||{},r=this,i=o.tree,c=n.item||i.selected(),l=c?i.itemData(c):void 0;return l&&a.Browser.notifier.confirm(e("Clear saved password"),e("Are you sure you want to clear the saved password for server %s?",l.label),(function(){(0,p.default)().put(r.generate_url(c,"clear_saved_password",l,!0)).then((function(e){var t=e.data;1==t.success?(a.Browser.notifier.success(t.info),i.itemData(c).is_password_saved=t.data.is_password_saved,i.deselect(c),setTimeout((function(){i.select(c)}))):a.Browser.notifier.error(t.info)})).catch((function(e){a.Browser.notifier.pgRespErrorNotify(e)}))}),(function(){return!0})),!1},clear_sshtunnel_password:function(t){var n=t||{},r=this,i=o.tree,c=n.item||i.selected(),l=c?i.itemData(c):void 0;return l&&a.Browser.notifier.confirm(e("Clear SSH Tunnel password"),e("Are you sure you want to clear the saved password of SSH Tunnel for server %s?",l.label),(function(){(0,p.default)().put(r.generate_url(c,"clear_sshtunnel_password",l,!0)).then((function(e){var t=e.data;1==t.success?(a.Browser.notifier.success(t.info),i.itemData(c).is_tunnel_password_saved=t.data.is_tunnel_password_saved):a.Browser.notifier.error(t.info)})).catch((function(e){a.Browser.notifier.pgRespErrorNotify(e)}))}),(function(){return!0})),!1},server_psql_tool:function(e){var t=e||{},a=o.tree,n=t.item||a.selected(),r=n?a.itemData(n):void 0;o.psql.psql_tool(r,n,!0)}},getSchema:function(e,t){return new l.default((0,c.getNodeListById)(o.Nodes.server_group,e,t),t.user_id,{gid:e.server_group._id})},connection_lost:function(t,n){if(o.tree){for(var r=o.tree,i=t&&r.itemData(t),c=this;i&&"server"!=i._type;)t=r.parent(t),i=t&&r.itemData(t);if(t&&i&&"server"==i._type&&(d.default.isUndefined(i.is_connecting)||!i.is_connecting)){i.is_connecting=!0;o.Events.on("pgadmin:server:connect:cancelled",(function e(a){i._id==a&&(i.is_connecting=!1,o.Events.off("pgadmin:server:connect:cancelled",e),o.Events.trigger("pgadmin:database:connect:cancelled",a,n.data.database||i.db),o.Events.trigger("pgadmin:server:disconnect",{item:t,data:i},!1))})),a.Browser.notifier.confirm(e("Connection lost"),e("Would you like to reconnect to the database?"),(function(){u(c,i,r,t,!0)}),(function(){i.is_connecting=!1,r.unload(t),r.addIcon(t,{icon:"icon-database-not-connected"}),o.Events.trigger("pgadmin:server:connect:cancelled",t,i,c),r.select(t)}))}}}});var i=function(t,o){!d.default.isUndefined(t)&&!d.default.isNull(t)&&t<1e5?a.Browser.notifier.warning(e("You have connected to a server version that is older than is supported by pgAdmin. This may cause pgAdmin to break in strange and unpredictable ways. Or a plague of frogs. Either way, you have been warned!")+"<br /><br />"+e("Server connected"),null):d.default.isUndefined(o)||d.default.isNull(o)||a.Browser.notifier.success(o)},u=function t(c,l,u,_,h){var m=c.generate_url(_,"obj",l,!0);(0,p.default)().get(m).then((function(e){var t=e.data;t.shared&&d.default.isNull(t.username)&&l.user_id!=n.id?t.service?(l.is_connecting=!1,u.unload(_),u.addIcon(_,{icon:"icon-shared-server-not-connected"})):(a.Browser.Node.callbacks.show_obj_properties.call(a.Browser.Nodes[u.itemData(_)._type],{action:"edit",item:_}),l.is_connecting=!1,u.unload(_),u.addIcon(_,{icon:"icon-shared-server-not-connected"}),a.Browser.notifier.info("Please enter the server details to connect to the server. This server is a shared server.")):-1==t.cloud_status&&a.Browser.BgProcessManager.recheckCloudServer(l._id)})).then((function(){l.is_connecting=!1}));var f=h||l.connected,b=function o(n,i,c,d,p,_,h){var m,f;(l.connected=!1,h||(u.close(_),d.shared&&"True"==a.server_mode?u.addIcon(_,{icon:"icon-shared-server-not-connected"}):u.addIcon(_,{icon:"icon-server-not-connected"})),200!=(null===(m=n.response)||void 0===m?void 0:m.status)&&-1!==(null===(f=n.response)||void 0===f||null===(f=f.request)||void 0===f||null===(f=f.responseText)||void 0===f?void 0:f.search("Ticket expired")))?(u.addIcon(_,{icon:"icon-server-connecting"}),r.fetch_ticket().then((function(){t(c,d,p,_,h)}),(function(){u.addIcon(_,{icon:"icon-server-not-connected"}),a.Browser.notifier.pgNotifier("error",n,"Connection error",e("Connect to server."))}))):a.Browser.notifier.pgNotifier("error",n,i,(function(a){setTimeout((function(){"CRYPTKEY_SET"==a?t(c,d,p,_,h):"CRYPTKEY_NOT_SET"!=a&&(0,s.showServerPassword)(e("Connect to Server"),a,c,d,p,_,h,g,o,y)}),100)}))},g=function(e,t,a,n,r,c){e&&e.data&&("string"==typeof e.data.icon&&(n.removeIcon(r),a.icon=e.data.icon,n.addIcon(r,{icon:a.icon})),d.default.extend(a,e.data),a.is_connecting=!1,(o.serverInfo=o.serverInfo||{})[a._id]=d.default.extend({},a),i(a.version,e.info),o.Events.trigger("pgadmin:server:connected",a._id,r,a),o.Events.trigger("pgadmin:database:connected",r,a),o.Events.trigger("pgadmin-browser:tree:selected",r,a,t),o.enable_disable_menus.apply(o,[r]),c?setTimeout((function(){t.callbacks.refresh.apply(t,[!0])}),10):(n.setInode(r),setTimeout((function(){n.select(r),n.open(r)}),10)))},y=function(e,t,n,r){n.is_connecting=!1,e.unload(t),e.removeIcon(t),n.shared&&"True"==a.server_mode?e.addIcon(t,{icon:"icon-shared-server-not-connected"}):e.addIcon(t,{icon:"icon-server-not-connected"}),c.trigger("connect:cancelled",l._id,l.db,c,t,n),o.Events.trigger("pgadmin:server:connect:cancelled",l._id,t,n,c),o.Events.trigger("pgadmin:database:connect:cancelled",l._id,l.db,t,n,c),r&&e.select(t)};if(!l.is_connecting&&-1!=l.cloud_status){l.is_connecting=!0,u.setLeaf(_),u.removeIcon(_),u.addIcon(_,{icon:"icon-server-connecting"});var v=c.generate_url(_,"connect",l,!0);(0,p.default)().post(v).then((function(e){var t=e.data;if(1==t.success)return g(t,c,l,u,_,f)})).catch((function(e){return b(e,(0,p.parseApiError)(e),c,l,u,_,f)})).then((function(){l.is_connecting=!1}))}},_=function(e,t,n,r){var i=e.generate_url(r,"connect",t,!0);n.setLeaf(r),n.removeIcon(r),n.addIcon(r,{icon:"icon-server-connecting"}),(0,p.default)().get(i).then((function(e){var i=e.data;(n.setInode(r),i&&i.data)&&("string"==typeof i.data.icon&&(n.removeIcon(r),t.icon=i.data.icon,n.addIcon(r,{icon:t.icon})),d.default.extend(t,i.data),(o.serverInfo=o.serverInfo||{})[t._id]=d.default.extend({},t),t.errmsg&&a.Browser.notifier.error(t.errmsg),o.Events.trigger("pgadmin:server:connected",t._id,r,t))})).catch((function(e){n.setInode(r),t.shared&&"True"==a.server_mode?n.addIcon(r,{icon:"icon-shared-server-not-connected"}):n.addIcon(r,{icon:"icon-server-not-connected"}),a.Browser.notifier.pgRespErrorNotify(e)}))}}return o.Nodes.server}.apply(t,o))||(e.exports=n)},68848:(e,t,a)=>{var o,n,r=a(64836);a(68309);var i=a(37331),c=a(82691),l=a(57275),s=r(a(67754));o=[a(97282),a(66377),a(61105),a(77257)],void 0===(n=function(e,t,a){return a.Nodes["coll-tablespace"]||(a.Nodes["coll-tablespace"]=a.Collection.extend({node:"tablespace",label:e("Tablespaces"),type:"coll-tablespace",columns:["name","spcuser","description"],hasStatistics:!0,statsPrettifyFields:[e("Size")],canDrop:!0,canDropCascade:!1})),a.Nodes.tablespace||(a.Nodes.tablespace=a.Node.extend({parent_type:"server",type:"tablespace",sqlAlterHelp:"sql-altertablespace.html",sqlCreateHelp:"sql-createtablespace.html",dialogHelp:t("help.static",{filename:"tablespace_dialog.html"}),label:e("Tablespace"),hasSQL:!0,canDrop:!0,hasDepends:!0,hasStatistics:!0,statsPrettifyFields:[e("Size")],Init:function(){this.initialized||(this.initialized=!0,a.add_menus([{name:"create_tablespace_on_server",node:"server",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Tablespace..."),data:{action:"create"},enable:"can_create_tablespace"},{name:"create_tablespace_on_coll",node:"coll-tablespace",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Tablespace..."),data:{action:"create"},enable:"can_create_tablespace"},{name:"create_tablespace",node:"tablespace",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:4,label:e("Tablespace..."),data:{action:"create"},enable:"can_create_tablespace"}]))},can_create_tablespace:function(e,t){var o=a.tree.getTreeNodeHierarchy(t).server;return o.connected&&o.user.is_superuser},callbacks:{},getSchema:function(e,t){var o=this;return new s.default((function(){return(0,l.getNodeVariableSchema)(o,e,t,!1,!1)}),(function(a){return(0,c.getNodePrivilegeRoleSchema)(o,e,t,a)}),{role:function(){return(0,i.getNodeListByName)("role",e,t)}},{spcuser:a.serverInfo[e.server._id].user.name})}})),a.Nodes["coll-tablespace"]}.apply(t,o))||(e.exports=n)},8628:(e,t,a)=>{var o,n,r=a(64836),i=r(a(6918)),c=r(a(96486));o=[a(97282),a(66377),a(75888),a(93584),a(61105),a(41477)],void 0===(n=function(e,t,a,o){return a.Browser.Nodes.server_group||(a.Browser.Nodes.server_group=a.Browser.Node.extend({parent_type:null,type:"server_group",dialogHelp:t("help.static",{filename:"server_group_dialog.html"}),label:e("Server Group"),width:"250px",height:"150px",is_collection:!0,Init:function(){this.initialized||(this.initialized=!0,a.Browser.add_menus([{name:"create_server_group",node:"server_group",module:this,applies:["object","context"],callback:"show_obj_properties",category:"create",priority:1,label:e("Server Group..."),data:{action:"create"}}]))},getSchema:function(){return new i.default},canDrop:function(e){var t=e.user_id;return!(t!=o.id&&!c.default.isUndefined(t))},dropAsRemove:!0,canDelete:function(e){var t=a.Browser.tree.siblings(e,!0);return!(!t||0==t.length)}})),a.Browser.Nodes.server_group}.apply(t,o))||(e.exports=n)}}]);